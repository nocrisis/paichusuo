/** layui-v2.3.0-rc1-lmf-1.0.18 MIT License By https://www.layui.com */
 ;layui.define("jquery",function(e){"use strict";var a=layui.jquery,i={config:{},index:layui.rate?layui.rate.index+1e4:0,set:function(e){var i=this;return i.config=a.extend({},i.config,e),i},on:function(e,a){return layui.onevent.call(this,n,e,a)}},l=function(){var e=this,a=e.config;return{setvalue:function(a){e.setvalue.call(e,a)},config:a}},n="rate",t="layui-rate",o="layui-icon-rate",s="layui-icon-rate-solid",u="layui-icon-rate-half",r="layui-icon-rate-solid layui-icon-rate-half",c="layui-icon-rate-solid layui-icon-rate",f="layui-icon-rate layui-icon-rate-half",v=function(e){var l=this;l.index=++i.index,l.config=a.extend({},l.config,i.config,e),l.render()};v.prototype.config={length:5,text:!1,readonly:!1,half:!1,value:0,theme:""},v.prototype.render=function(){var e=this,i=e.config,l=i.theme?'style="color: '+i.theme+';"':"";i.elem=a(i.elem),parseInt(i.value)!==i.value&&(i.half||(i.value=Math.ceil(i.value)-i.value<.5?Math.ceil(i.value):Math.floor(i.value)));for(var n='<ul class="layui-rate" '+(i.readonly?"readonly":"")+">",u=1;u<=i.length;u++){var r='<li class="layui-inline"><i class="layui-icon '+(u>Math.floor(i.value)?o:s)+'" '+l+"></i></li>";i.half&&parseInt(i.value)!==i.value&&u==Math.ceil(i.value)?n=n+'<li><i class="layui-icon layui-icon-rate-half" '+l+"></i></li>":n+=r}n+="</ul>"+(i.text?'<span class="layui-inline">'+i.value+"星":"")+"</span>";var c=i.elem,f=c.next("."+t);f[0]&&f.remove(),e.elemTemp=a(n),i.span=e.elemTemp.next("span"),i.setText&&i.setText(i.value),c.html(e.elemTemp),c.addClass("layui-inline"),i.readonly||e.action()},v.prototype.setvalue=function(e){var a=this,i=a.config;i.value=e,a.render()},v.prototype.action=function(){var e=this,i=e.config,l=e.elemTemp,n=l.find("i").width();l.children("li").each(function(e){var t=e+1,v=a(this);v.on("click",function(e){if(i.value=t,i.half){var o=e.pageX-a(this).offset().left;o<=n/2&&(i.value=i.value-.5)}i.text&&l.next("span").text(i.value+"星"),i.choose&&i.choose(i.value),i.setText&&i.setText(i.value)}),v.on("mousemove",function(e){if(l.find("i").each(function(){a(this).addClass(o).removeClass(r)}),l.find("i:lt("+t+")").each(function(){a(this).addClass(s).removeClass(f)}),i.half){var c=e.pageX-a(this).offset().left;c<=n/2&&v.children("i").addClass(u).removeClass(s)}}),v.on("mouseleave",function(){l.find("i").each(function(){a(this).addClass(o).removeClass(r)}),l.find("i:lt("+Math.floor(i.value)+")").each(function(){a(this).addClass(s).removeClass(f)}),i.half&&parseInt(i.value)!==i.value&&l.children("li:eq("+Math.floor(i.value)+")").children("i").addClass(u).removeClass(c)})})},v.prototype.events=function(){var e=this;e.config},i.render=function(e){var a=new v(e);return l.call(a)},e(n,i)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxheS9tb2R1bGVzL3JhdGUuanMiXSwibmFtZXMiOlsibGF5dWkiLCJkZWZpbmUiLCJleHBvcnRzIiwiJCIsImpxdWVyeSIsInJhdGUiLCJjb25maWciLCJpbmRleCIsInNldCIsIm9wdGlvbnMiLCJ0aGF0IiwidGhpcyIsImV4dGVuZCIsIm9uIiwiZXZlbnRzIiwiY2FsbGJhY2siLCJvbmV2ZW50IiwiY2FsbCIsIk1PRF9OQU1FIiwidGhpc1JhdGUiLCJzZXR2YWx1ZSIsInZhbHVlIiwiRUxFTV9WSUVXIiwiSUNPTl9SQVRFIiwiSUNPTl9SQVRFX1NPTElEIiwiSUNPTl9SQVRFX0hBTEYiLCJJQ09OX1NPTElEX0hBTEYiLCJJQ09OX1NPTElEX1JBVEUiLCJJQ09OX0hBTEZfUkFURSIsIkNsYXNzIiwicmVuZGVyIiwicHJvdG90eXBlIiwibGVuZ3RoIiwidGV4dCIsInJlYWRvbmx5IiwiaGFsZiIsInRoZW1lIiwic3R5bGUiLCJlbGVtIiwicGFyc2VJbnQiLCJNYXRoIiwiY2VpbCIsImZsb29yIiwidGVtcCIsImkiLCJpdGVtIiwib3RoaXMiLCJoYXNSZW5kZXIiLCJuZXh0IiwicmVtb3ZlIiwiZWxlbVRlbXAiLCJzcGFuIiwic2V0VGV4dCIsImh0bWwiLCJhZGRDbGFzcyIsImFjdGlvbiIsIl91bCIsIndpZGUiLCJmaW5kIiwid2lkdGgiLCJjaGlsZHJlbiIsImVhY2giLCJpbmQiLCJlIiwieCIsInBhZ2VYIiwib2Zmc2V0IiwibGVmdCIsImNob29zZSIsInJlbW92ZUNsYXNzIiwiaW5zdCJdLCJtYXBwaW5ncyI6IjtFQVFBQSxNQUFNQyxPQUFPLFNBQVMsU0FBU0MsR0FDN0IsWUFDQSxJQUFJQyxHQUFJSCxNQUFNSSxPQUdiQyxHQUNDQyxVQUNDQyxNQUFPUCxNQUFNSyxLQUFRTCxNQUFNSyxLQUFLRSxNQUFRLElBQVMsRUFHakRDLElBQUssU0FBU0MsR0FDYixHQUFJQyxHQUFPQyxJQUVYLE9BREFELEdBQUtKLE9BQVNILEVBQUVTLFVBQVdGLEVBQUtK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QixHQUFnQjRDLFlBQVkxQyxRQVN0SEUsRUFBTUUsVUFBVWpCLE9BQVMsV0FDdEIsR0FBSUosR0FBT0MsSUFDREQsR0FBS0osUUFJbEJELEVBQUt5QixPQUFTLFNBQVNyQixHQUNyQixHQUFJNkQsR0FBTyxHQUFJekMsR0FBTXBCLEVBQ3JCLE9BQU9VLEdBQVNGLEtBQUtxRCxJQUd2QnBFLEVBQVFnQixFQUFVYiIsImZpbGUiOiJsYXkvbW9kdWxlcy9yYXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG5cbiBAVGl0bGU6IGxheXVpLnJhdGUg6K+E5YiG6K+E5pifXG4gQEF1dGhvcjogc3RhcjEwMjlcbiBATGljZW5zZe+8mk1JVFxuXG4gKi9cblxubGF5dWkuZGVmaW5lKCdqcXVlcnknLGZ1bmN0aW9uKGV4cG9ydHMpe1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyICQgPSBsYXl1aS5qcXVlcnlcblxuICAvL+WklumDqOaOpeWPo1xuICAscmF0ZSA9IHtcbiAgICBjb25maWc6IHt9XG4gICAgLGluZGV4OiBsYXl1aS5yYXRlID8gKGxheXVpLnJhdGUuaW5kZXggKyAxMDAwMCkgOiAwXG5cbiAgICAvL+iuvue9ruWFqOWxgOmhuVxuICAgICxzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdGhhdC5jb25maWcgPSAkLmV4dGVuZCh7fSwgdGhhdC5jb25maWcsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgfVxuICAgIFxuICAgIC8v5LqL5Lu255uR5ZCsXG4gICAgLG9uOiBmdW5jdGlvbihldmVudHMsIGNhbGxiYWNrKXtcbiAgICAgIHJldHVybiBsYXl1aS5vbmV2ZW50LmNhbGwodGhpcywgTU9EX05BTUUsIGV2ZW50cywgY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIC8v5pON5L2c5b2T5YmN5a6e5L6LXG4gICx0aGlzUmF0ZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgLG9wdGlvbnMgPSB0aGF0LmNvbmZpZztcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc2V0dmFsdWU6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgdGhhdC5zZXR2YWx1ZS5jYWxsKHRoYXQsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgICxjb25maWc6IG9wdGlvbnNcbiAgICB9XG4gIH1cblxuICAvL+Wtl+espuW4uOmHj1xuICAsTU9EX05BTUUgPSAncmF0ZScsRUxFTV9WSUVXID0gJ2xheXVpLXJhdGUnLCBJQ09OX1JBVEUgPSAnbGF5dWktaWNvbi1yYXRlJywgSUNPTl9SQVRFX1NPTElEID0gJ2xheXVpLWljb24tcmF0ZS1zb2xpZCcsIElDT05fUkFURV9IQUxGID0gJ2xheXVpLWljb24tcmF0ZS1oYWxmJ1xuICBcbiAgLElDT05fU09MSURfSEFMRiA9ICdsYXl1aS1pY29uLXJhdGUtc29saWQgbGF5dWktaWNvbi1yYXRlLWhhbGYnLCAgSUNPTl9TT0xJRF9SQVRFID0gJ2xheXVpLWljb24tcmF0ZS1zb2xpZCBsYXl1aS1pY29uLXJhdGUnLCAgSUNPTl9IQUxGX1JBVEUgPSAnbGF5dWktaWNvbi1yYXRlIGxheXVpLWljb24tcmF0ZS1oYWxmJ1xuXG4gIC8v5p6E6YCg5ZmoXG4gICxDbGFzcyA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGF0LmluZGV4ID0gKytyYXRlLmluZGV4O1xuICAgIHRoYXQuY29uZmlnID0gJC5leHRlbmQoe30sIHRoYXQuY29uZmlnLCByYXRlLmNvbmZpZywgb3B0aW9ucyk7XG4gICAgdGhhdC5yZW5kZXIoKTtcbiAgfTtcblxuICAvL+m7mOiupOmFjee9rlxuICBDbGFzcy5wcm90b3R5cGUuY29uZmlnID0ge1xuICAgIGxlbmd0aDogNSAgLy/liJ3lp4vplb/luqZcbiAgICAsdGV4dDogZmFsc2UgIC8v5piv5ZCm5pi+56S66K+E5YiG562J57qnXG4gICAgLHJlYWRvbmx5OiBmYWxzZSAgLy/mmK/lkKblj6ror7tcbiAgICAsaGFsZjogZmFsc2UgIC8v5piv5ZCm5Y+v5Lul5Y2K5pifXG4gICAgLHZhbHVlOiAwIC8v5pif5pif6YCJ5Lit5Liq5pWwXG4gICAgLHRoZW1lOiAnJ1xuICB9O1xuXG4gIC8v6K+E5YiG5riy5p+TXG4gIENsYXNzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpe1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgICxvcHRpb25zID0gdGhhdC5jb25maWdcbiAgICAsc3R5bGUgPSBvcHRpb25zLnRoZW1lID8gKCdzdHlsZT1cImNvbG9yOiAnKyBvcHRpb25zLnRoZW1lICsgJztcIicpIDogJyc7XG5cbiAgICBvcHRpb25zLmVsZW0gPSAkKG9wdGlvbnMuZWxlbSk7XG5cbiAgICAvL+WmguaenOayoeaciemAieaLqeWNiuaYn+eahOWxnuaAp++8jOWNtOe7meS6huWwj+aVsOeahOaVsOWAvO+8jOe7n+S4gOWQkeS4iuaIluWQkeS4i+WPluaVtFxuICAgIGlmKHBhcnNlSW50KG9wdGlvbnMudmFsdWUpICE9PSBvcHRpb25zLnZhbHVlKXtcbiAgICAgIGlmKCFvcHRpb25zLmhhbGYpe1xuICAgICAgICBvcHRpb25zLnZhbHVlID0gKE1hdGguY2VpbChvcHRpb25zLnZhbHVlKSAtIG9wdGlvbnMudmFsdWUpIDwgMC41ID8gTWF0aC5jZWlsKG9wdGlvbnMudmFsdWUpOiBNYXRoLmZsb29yKG9wdGlvbnMudmFsdWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy/nu4Tku7bmqKHmnb9cbiAgICB2YXIgdGVtcCA9ICc8dWwgY2xhc3M9XCJsYXl1aS1yYXRlXCIgJysgKG9wdGlvbnMucmVhZG9ubHkgPyAncmVhZG9ubHknIDogJycpICsnPic7XG4gICAgZm9yKHZhciBpID0gMTtpIDw9IG9wdGlvbnMubGVuZ3RoO2krKyl7XG4gICAgICB2YXIgaXRlbSA9ICc8bGkgY2xhc3M9XCJsYXl1aS1pbmxpbmVcIj48aSBjbGFzcz1cImxheXVpLWljb24gJ1xuICAgICAgICArIChpPk1hdGguZmxvb3Iob3B0aW9ucy52YWx1ZSk/SUNPTl9SQVRFOklDT05fUkFURV9TT0xJRClcbiAgICAgICsgJ1wiICcrIHN0eWxlICsnPjwvaT48L2xpPic7XG5cbiAgICAgIGlmKG9wdGlvbnMuaGFsZil7XG4gICAgICAgIGlmKHBhcnNlSW50KG9wdGlvbnMudmFsdWUpICE9PSBvcHRpb25zLnZhbHVlKXtcbiAgICAgICAgICBpZihpID09IE1hdGguY2VpbChvcHRpb25zLnZhbHVlKSl7XG4gICAgICAgICAgICB0ZW1wID0gdGVtcCArICc8bGk+PGkgY2xhc3M9XCJsYXl1aS1pY29uIGxheXVpLWljb24tcmF0ZS1oYWxmXCIgJysgc3R5bGUgKyc+PC9pPjwvbGk+JztcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRlbXAgPSB0ZW1wICsgaXRlbSBcbiAgICAgICAgICB9IFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICB0ZW1wID0gdGVtcCArIGl0ZW1cbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIHRlbXAgPSB0ZW1wICtpdGVtO1xuICAgICAgfVxuICAgIH1cbiAgICB0ZW1wICs9ICc8L3VsPicgKyAob3B0aW9ucy50ZXh0ID8gKCc8c3BhbiBjbGFzcz1cImxheXVpLWlubGluZVwiPicrIG9wdGlvbnMudmFsdWUgKyAn5pifJykgOiAnJykgKyAnPC9zcGFuPic7XG5cbiAgICAvL+W8gOWni+aPkuWFpeabv+S7o+WFg+e0oFxuICAgIHZhciBvdGhpcyA9IG9wdGlvbnMuZWxlbVxuICAgICxoYXNSZW5kZXIgPSBvdGhpcy5uZXh0KCcuJyArIEVMRU1fVklFVyk7XG4gICAgXG4gICAgLy/nlJ/miJDmm7/ku6PlhYPntKBcbiAgICBoYXNSZW5kZXJbMF0gJiYgaGFzUmVuZGVyLnJlbW92ZSgpOyAvL+WmguaenOW3sue7j+a4suafk++8jOWImVJlcmVuZGVyXG5cbiAgICB0aGF0LmVsZW1UZW1wID0gJCh0ZW1wKTtcbiAgICBcbiAgICBvcHRpb25zLnNwYW4gPSB0aGF0LmVsZW1UZW1wLm5leHQoJ3NwYW4nKTtcblxuICAgIG9wdGlvbnMuc2V0VGV4dCAmJiBvcHRpb25zLnNldFRleHQob3B0aW9ucy52YWx1ZSk7XG5cbiAgICBvdGhpcy5odG1sKHRoYXQuZWxlbVRlbXApO1xuXG4gICAgb3RoaXMuYWRkQ2xhc3MoXCJsYXl1aS1pbmxpbmVcIik7XG5cbiAgICAvL+WmguaenOS4jeaYr+WPquivu++8jOmCo+S5iOi/m+ihjOinpuaOp+S6i+S7tlxuICAgIGlmKCFvcHRpb25zLnJlYWRvbmx5KSB0aGF0LmFjdGlvbigpOyBcblxuICB9O1xuXG4gIC8v6K+E5YiG6YeN572uXG4gIENsYXNzLnByb3RvdHlwZS5zZXR2YWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICAsb3B0aW9ucyA9IHRoYXQuY29uZmlnIDtcblxuICAgIG9wdGlvbnMudmFsdWUgPSB2YWx1ZSA7XG4gICAgdGhhdC5yZW5kZXIoKTtcbiAgfTtcblxuICAvL2xp6Kem5o6n5LqL5Lu2XG4gIENsYXNzLnByb3RvdHlwZS5hY3Rpb24gPSBmdW5jdGlvbigpe1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgICxvcHRpb25zID0gdGhhdC5jb25maWdcbiAgICAsX3VsID0gdGhhdC5lbGVtVGVtcFxuICAgICx3aWRlID0gX3VsLmZpbmQoXCJpXCIpLndpZHRoKCk7XG5cbiAgICBfdWwuY2hpbGRyZW4oXCJsaVwiKS5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcbiAgICAgIHZhciBpbmQgPSBpbmRleCArIDFcbiAgICAgICxvdGhpcyA9ICQodGhpcyk7XG5cbiAgICAgIC8v54K55Ye7XG4gICAgICBvdGhpcy5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgLy/lsIblvZPliY3ngrnlh7tsaeeahOe0ouW8leWAvOi1i+e7mXZhbHVlXG4gICAgICAgIG9wdGlvbnMudmFsdWUgPSBpbmQ7XG4gICAgICAgIGlmKG9wdGlvbnMuaGFsZil7XG4gICAgICAgICAgLy/ojrflj5bpvKDmoIflnKhsaeS4iueahOS9jee9rlxuICAgICAgICAgIHZhciB4ID0gZS5wYWdlWCAtICQodGhpcykub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgICBpZih4IDw9IHdpZGUgLyAyKXtcbiAgICAgICAgICAgIG9wdGlvbnMudmFsdWUgPSBvcHRpb25zLnZhbHVlIC0gMC41O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKG9wdGlvbnMudGV4dCkgIF91bC5uZXh0KFwic3BhblwiKS50ZXh0KG9wdGlvbnMudmFsdWUgKyBcIuaYn1wiKTtcblxuICAgICAgICBvcHRpb25zLmNob29zZSAmJiBvcHRpb25zLmNob29zZShvcHRpb25zLnZhbHVlKTtcbiAgICAgICAgb3B0aW9ucy5zZXRUZXh0ICYmIG9wdGlvbnMuc2V0VGV4dChvcHRpb25zLnZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvL+enu+WFpVxuICAgICAgb3RoaXMub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBfdWwuZmluZChcImlcIikuZWFjaChmdW5jdGlvbigpeyAgICAgIFxuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoSUNPTl9SQVRFKS5yZW1vdmVDbGFzcyhJQ09OX1NPTElEX0hBTEYpXG4gICAgICAgIH0pO1xuICAgICAgICBfdWwuZmluZChcImk6bHQoXCIgKyBpbmQgKyBcIilcIikuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoSUNPTl9SQVRFX1NPTElEKS5yZW1vdmVDbGFzcyhJQ09OX0hBTEZfUkFURSlcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIOWmguaenOiuvue9ruWPr+mAieWNiuaYn++8jOmCo+S5iOWIpOaWrem8oOagh+ebuOWvuWxp55qE5L2N572uXG4gICAgICAgIGlmKG9wdGlvbnMuaGFsZil7XG4gICAgICAgICAgdmFyIHggPSBlLnBhZ2VYIC0gJCh0aGlzKS5vZmZzZXQoKS5sZWZ0O1xuICAgICAgICAgIGlmKHggPD0gd2lkZSAvIDIpe1xuICAgICAgICAgICAgb3RoaXMuY2hpbGRyZW4oXCJpXCIpLmFkZENsYXNzKElDT05fUkFURV9IQUxGKS5yZW1vdmVDbGFzcyhJQ09OX1JBVEVfU09MSUQpXG4gICAgICAgICAgfVxuICAgICAgICB9ICAgICAgICAgXG4gICAgICB9KVxuXG4gICAgICAvL+enu+WHulxuICAgICAgb3RoaXMub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpe1xuICAgICAgICBfdWwuZmluZChcImlcIikuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoSUNPTl9SQVRFKS5yZW1vdmVDbGFzcyhJQ09OX1NPTElEX0hBTEYpXG4gICAgICAgIH0pO1xuICAgICAgICBfdWwuZmluZChcImk6bHQoXCIgKyBNYXRoLmZsb29yKG9wdGlvbnMudmFsdWUpICsgXCIpXCIpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKElDT05fUkFURV9TT0xJRCkucmVtb3ZlQ2xhc3MoSUNPTl9IQUxGX1JBVEUpXG4gICAgICAgIH0pO1xuICAgICAgICAvL+WmguaenOiuvue9ruWPr+mAieWNiuaYn++8jOagueaNruWIhuaVsOWIpOaWreaYr+WQpuacieWNiuaYn1xuICAgICAgICBpZihvcHRpb25zLmhhbGYpe1xuICAgICAgICAgIGlmKHBhcnNlSW50KG9wdGlvbnMudmFsdWUpICE9PSBvcHRpb25zLnZhbHVlKXtcbiAgICAgICAgICAgIF91bC5jaGlsZHJlbihcImxpOmVxKFwiICsgTWF0aC5mbG9vcihvcHRpb25zLnZhbHVlKSArIFwiKVwiKS5jaGlsZHJlbihcImlcIikuYWRkQ2xhc3MoSUNPTl9SQVRFX0hBTEYpLnJlbW92ZUNsYXNzKElDT05fU09MSURfUkFURSkgICAgICAgICAgICAgXG4gICAgICAgICAgfVxuICAgICAgICB9IFxuICAgICAgfSlcblxuICAgIH0pXG4gIH07XG4gIFxuICAvL+S6i+S7tuWkhOeQhlxuICBDbGFzcy5wcm90b3R5cGUuZXZlbnRzID0gZnVuY3Rpb24oKXtcbiAgICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgLG9wdGlvbnMgPSB0aGF0LmNvbmZpZztcbiAgfTtcblxuICAvL+aguOW/g+WFpeWPo1xuICByYXRlLnJlbmRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHZhciBpbnN0ID0gbmV3IENsYXNzKG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzUmF0ZS5jYWxsKGluc3QpO1xuICB9O1xuICBcbiAgZXhwb3J0cyhNT0RfTkFNRSwgcmF0ZSk7XG59KSJdfQ==

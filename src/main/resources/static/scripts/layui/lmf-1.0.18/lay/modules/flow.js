/** layui-v2.3.0-rc1-lmf-1.0.18 MIT License By https://www.layui.com */
 ;layui.define("jquery",function(e){"use strict";var l=layui.$,o=function(e){},t='<i class="layui-anim layui-anim-rotate layui-anim-loop layui-icon ">&#xe63e;</i>';o.prototype.load=function(e){var o,i,n,r,a=this,c=0;e=e||{};var f=l(e.elem);if(f[0]){var m=l(e.scrollElem||document),u=e.mb||50,s=!("isAuto"in e)||e.isAuto,v=e.end||"没有更多了",y=e.scrollElem&&e.scrollElem!==document,d="<cite>加载更多</cite>",h=l('<div class="layui-flow-more"><a href="javascript:;">'+d+"</a></div>");f.find(".layui-flow-more")[0]||f.append(h);var p=function(e,t){e=l(e),h.before(e),t=0==t||null,t?h.html(v):h.find("a").html(d),i=t,o=null,n&&n()},g=function(){o=!0,h.find("a").html(t),"function"==typeof e.done&&e.done(++c,p)};if(g(),h.find("a").on("click",function(){l(this);i||o||g()}),e.isLazyimg)var n=a.lazyimg({elem:e.elem+" img",scrollElem:e.scrollElem});return s?(m.on("scroll",function(){var e=l(this),t=e.scrollTop();r&&clearTimeout(r),i||(r=setTimeout(function(){var i=y?e.height():l(window).height(),n=y?e.prop("scrollHeight"):document.documentElement.scrollHeight;n-t-i<=u&&(o||g())},100))}),a):a}},o.prototype.lazyimg=function(e){var o,t=this,i=0;e=e||{};var n=l(e.scrollElem||document),r=e.elem||"img",a=e.scrollElem&&e.scrollElem!==document,c=function(e,l){var o=n.scrollTop(),r=o+l,c=a?function(){return e.offset().top-n.offset().top+o}():e.offset().top;if(c>=o&&c<=r&&!e.attr("src")){var m=e.attr("lay-src");layui.img(m,function(){var l=t.lazyimg.elem.eq(i);e.attr("src",m).removeAttr("lay-src"),l[0]&&f(l),i++})}},f=function(e,o){var f=a?(o||n).height():l(window).height(),m=n.scrollTop(),u=m+f;if(t.lazyimg.elem=l(r),e)c(e,f);else for(var s=0;s<t.lazyimg.elem.length;s++){var v=t.lazyimg.elem.eq(s),y=a?function(){return v.offset().top-n.offset().top+m}():v.offset().top;if(c(v,f),i=s,y>u)break}};if(f(),!o){var m;n.on("scroll",function(){var e=l(this);m&&clearTimeout(m),m=setTimeout(function(){f(null,e)},50)}),o=!0}return f},e("flow",new o)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxheS9tb2R1bGVzL2Zsb3cuanMiXSwibmFtZXMiOlsibGF5dWkiLCJkZWZpbmUiLCJleHBvcnRzIiwiJCIsIkZsb3ciLCJvcHRpb25zIiwiRUxFTV9MT0FEIiwicHJvdG90eXBlIiwibG9hZCIsImxvY2siLCJpc092ZXIiLCJsYXp5aW1nIiwidGltZXIiLCJ0aGF0IiwidGhpcyIsInBhZ2UiLCJlbGVtIiwic2Nyb2xsRWxlbSIsImRvY3VtZW50IiwibWIiLCJpc0F1dG8iLCJlbmQiLCJub3REb2NtZW50IiwiRUxFTV9URVhUIiwibW9yZSIsImZpbmQiLCJhcHBlbmQiLCJuZXh0IiwiaHRtbCIsIm92ZXIiLCJiZWZvcmUiLCJkb25lIiwib24iLCJpc0xhenlpbWciLCJvdGhpcyIsInRvcCIsInNjcm9sbFRvcCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJoZWlnaHQiLCJ3aW5kb3ciLCJzY3JvbGxIZWlnaHQiLCJwcm9wIiwiZG9jdW1lbnRFbGVtZW50IiwiaGF2ZVNjcm9sbCIsImluZGV4Iiwic2hvdyIsIml0ZW0iLCJzdGFydCIsImVsZW1Ub3AiLCJvZmZzZXQiLCJhdHRyIiwic3JjIiwiaW1nIiwiZXEiLCJyZW1vdmVBdHRyIiwicmVuZGVyIiwic2Nyb2xsIiwiaSIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IjtFQVNBQSxNQUFNQyxPQUFPLFNBQVUsU0FBU0MsR0FDOUIsWUFFQSxJQUFJQyxHQUFJSCxNQUFNRyxFQUFHQyxFQUFPLFNBQVNDLEtBRWhDQyxFQUFZLGtGQUdiRixHQUFLRyxVQUFVQyxLQUFPLFNBQVNILEdBQzdCLEdBQTJCSSxHQUFNQyxFQUFRQyxFQUFTQyxFQUE5Q0MsRUFBT0MsS0FBTUMsRUFBTyxDQUN4QlYsR0FBVUEsS0FFVixJQUFJVyxHQUFPYixFQUFFRSxFQUFRVyxLQUFPLElBQUlBLEVBQUssR0FBVCxDQUM1QixHQUFJQyxHQUFhZCxFQUFFRSxFQUFRWSxZQUFjQyxVQUNyQ0MsRUFBS2QsRUFBUWMsSUFBTSxHQUNuQkMs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R0FBS0csU0FBU2YsSUFBTWxCLEVBQVdpQyxTQUFTZixJQUFNYSxLQUNqREQsRUFBS0csU0FBU2YsR0FNcEIsSUFKQVcsRUFBS0MsRUFBTVIsR0FDWE0sRUFBUWEsRUFHTFQsRUFBVTVCLEVBQUssT0FPeEIsSUFGQW1DLEtBRUlaLEVBQVcsQ0FDYixHQUFJaEMsRUFDSkssR0FBV2UsR0FBRyxTQUFVLFdBQ3RCLEdBQUlFLEdBQVEvQixFQUFFVyxLQUNYRixJQUFPeUIsYUFBYXpCLEdBQ3ZCQSxFQUFRMEIsV0FBVyxXQUNqQmtCLEVBQU8sS0FBTXRCLElBQ1osTUFFTFUsR0FBYSxFQUVmLE1BQU9ZLElBSVR0RCxFQUFRLE9BQVEsR0FBSUUiLCJmaWxlIjoibGF5L21vZHVsZXMvZmxvdy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuXG4gQE5hbWXvvJpsYXl1aS5mbG93IOa1geWKoOi9vVxuIEBBdXRob3LvvJrotKTlv4NcbiBATGljZW5zZe+8mk1JVFxuICAgIFxuICovXG4gXG4gXG5sYXl1aS5kZWZpbmUoJ2pxdWVyeScsIGZ1bmN0aW9uKGV4cG9ydHMpe1xuICBcInVzZSBzdHJpY3RcIjtcbiAgXG4gIHZhciAkID0gbGF5dWkuJCwgRmxvdyA9IGZ1bmN0aW9uKG9wdGlvbnMpe31cbiAgLEVMRU1fTU9SRSA9ICdsYXl1aS1mbG93LW1vcmUnXG4gICxFTEVNX0xPQUQgPSAnPGkgY2xhc3M9XCJsYXl1aS1hbmltIGxheXVpLWFuaW0tcm90YXRlIGxheXVpLWFuaW0tbG9vcCBsYXl1aS1pY29uIFwiPiYjeGU2M2U7PC9pPic7XG5cbiAgLy/kuLvmlrnms5VcbiAgRmxvdy5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHZhciB0aGF0ID0gdGhpcywgcGFnZSA9IDAsIGxvY2ssIGlzT3ZlciwgbGF6eWltZywgdGltZXI7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgXG4gICAgdmFyIGVsZW0gPSAkKG9wdGlvbnMuZWxlbSk7IGlmKCFlbGVtWzBdKSByZXR1cm47XG4gICAgdmFyIHNjcm9sbEVsZW0gPSAkKG9wdGlvbnMuc2Nyb2xsRWxlbSB8fCBkb2N1bWVudCk7IC8v5rua5Yqo5p2h5omA5Zyo5YWD57SgXG4gICAgdmFyIG1iID0gb3B0aW9ucy5tYiB8fCA1MDsgLy/kuI7lupXpg6jnmoTkuLTnlYzot53nprtcbiAgICB2YXIgaXNBdXRvID0gJ2lzQXV0bycgaW4gb3B0aW9ucyA/IG9wdGlvbnMuaXNBdXRvIDogdHJ1ZTsgLy/mmK/lkKboh6rliqjmu5rliqjliqDovb1cbiAgICB2YXIgZW5kID0gb3B0aW9ucy5lbmQgfHwgJ+ayoeacieabtOWkmuS6hic7IC8v4oCc5pyr6aG14oCd5pi+56S65paH5qGIXG4gICAgXG4gICAgLy/mu5rliqjmnaHmiYDlnKjlhYPntKDmmK/lkKbkuLpkb2N1bWVudFxuICAgIHZhciBub3REb2NtZW50ID0gb3B0aW9ucy5zY3JvbGxFbGVtICYmIG9wdGlvbnMuc2Nyb2xsRWxlbSAhPT0gZG9jdW1lbnQ7XG4gICAgXG4gICAgLy/liqDovb3mm7TlpJpcbiAgICB2YXIgRUxFTV9URVhUID0gJzxjaXRlPuWKoOi9veabtOWkmjwvY2l0ZT4nXG4gICAgLG1vcmUgPSAkKCc8ZGl2IGNsYXNzPVwibGF5dWktZmxvdy1tb3JlXCI+PGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiPicrIEVMRU1fVEVYVCArJzwvYT48L2Rpdj4nKTtcbiAgICBcbiAgICBpZighZWxlbS5maW5kKCcubGF5dWktZmxvdy1tb3JlJylbMF0pe1xuICAgICAgZWxlbS5hcHBlbmQobW9yZSk7XG4gICAgfVxuICAgIFxuICAgIC8v5Yqg6L295LiL5LiA5Liq5YWD57SgXG4gICAgdmFyIG5leHQgPSBmdW5jdGlvbihodG1sLCBvdmVyKXsgXG4gICAgICBodG1sID0gJChodG1sKTtcbiAgICAgIG1vcmUuYmVmb3JlKGh0bWwpO1xuICAgICAgb3ZlciA9IG92ZXIgPT0gMCA/IHRydWUgOiBudWxsO1xuICAgICAgb3ZlciA/IG1vcmUuaHRtbChlbmQpIDogbW9yZS5maW5kKCdhJykuaHRtbChFTEVNX1RFWFQpO1xuICAgICAgaXNPdmVyID0gb3ZlcjtcbiAgICAgIGxvY2sgPSBudWxsO1xuICAgICAgbGF6eWltZyAmJiBsYXp5aW1nKCk7XG4gICAgfTtcbiAgICBcbiAgICAvL+inpuWPkeivt+axglxuICAgIHZhciBkb25lID0gZnVuY3Rpb24oKXtcbiAgICAgIGxvY2sgPSB0cnVlO1xuICAgICAgbW9yZS5maW5kKCdhJykuaHRtbChFTEVNX0xPQUQpO1xuICAgICAgdHlwZW9mIG9wdGlvbnMuZG9uZSA9PT0gJ2Z1bmN0aW9uJyAmJiBvcHRpb25zLmRvbmUoKytwYWdlLCBuZXh0KTtcbiAgICB9O1xuICAgIFxuICAgIGRvbmUoKTtcbiAgICBcbiAgICAvL+S4jeiHquWKqOa7muWKqOWKoOi9vVxuICAgIG1vcmUuZmluZCgnYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgb3RoaXMgPSAkKHRoaXMpO1xuICAgICAgaWYoaXNPdmVyKSByZXR1cm47XG4gICAgICBsb2NrIHx8IGRvbmUoKTtcbiAgICB9KTtcbiAgICBcbiAgICAvL+WmguaenOWFgeiuuOWbvueJh+aHkuWKoOi9vVxuICAgIGlmKG9wdGlvbnMuaXNMYXp5aW1nKXtcbiAgICAgIHZhciBsYXp5aW1nID0gdGhhdC5sYXp5aW1nKHtcbiAgICAgICAgZWxlbTogb3B0aW9ucy5lbGVtICsgJyBpbWcnXG4gICAgICAgICxzY3JvbGxFbGVtOiBvcHRpb25zLnNjcm9sbEVsZW1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBpZighaXNBdXRvKSByZXR1cm4gdGhhdDtcbiAgICBcbiAgICBzY3JvbGxFbGVtLm9uKCdzY3JvbGwnLCBmdW5jdGlvbigpe1xuICAgICAgdmFyIG90aGlzID0gJCh0aGlzKSwgdG9wID0gb3RoaXMuc2Nyb2xsVG9wKCk7XG4gICAgICBcbiAgICAgIGlmKHRpbWVyKSBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgaWYoaXNPdmVyKSByZXR1cm47XG4gICAgICBcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAvL+iuoeeul+a7muWKqOaJgOWcqOWuueWZqOeahOWPr+inhumrmOW6plxuICAgICAgICB2YXIgaGVpZ2h0ID0gbm90RG9jbWVudCA/IG90aGlzLmhlaWdodCgpIDogJCh3aW5kb3cpLmhlaWdodCgpO1xuICAgICAgICBcbiAgICAgICAgLy/orqHnrpfmu5rliqjmiYDlnKjlrrnlmajnmoTlrp7pmYXpq5jluqZcbiAgICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IG5vdERvY21lbnRcbiAgICAgICAgICA/IG90aGlzLnByb3AoJ3Njcm9sbEhlaWdodCcpXG4gICAgICAgIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodDtcblxuICAgICAgICAvL+S4tOeVjOeCuVxuICAgICAgICBpZihzY3JvbGxIZWlnaHQgLSB0b3AgLSBoZWlnaHQgPD0gbWIpe1xuICAgICAgICAgIGxvY2sgfHwgZG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDApO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGF0O1xuICB9O1xuICBcbiAgLy/lm77niYfmh5LliqDovb1cbiAgRmxvdy5wcm90b3R5cGUubGF6eWltZyA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHZhciB0aGF0ID0gdGhpcywgaW5kZXggPSAwLCBoYXZlU2Nyb2xsO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIFxuICAgIHZhciBzY3JvbGxFbGVtID0gJChvcHRpb25zLnNjcm9sbEVsZW0gfHwgZG9jdW1lbnQpOyAvL+a7muWKqOadoeaJgOWcqOWFg+e0oFxuICAgIHZhciBlbGVtID0gb3B0aW9ucy5lbGVtIHx8ICdpbWcnO1xuICAgIFxuICAgIC8v5rua5Yqo5p2h5omA5Zyo5YWD57Sg5piv5ZCm5Li6ZG9jdW1lbnRcbiAgICB2YXIgbm90RG9jbWVudCA9IG9wdGlvbnMuc2Nyb2xsRWxlbSAmJiBvcHRpb25zLnNjcm9sbEVsZW0gIT09IGRvY3VtZW50O1xuICAgIFxuICAgIC8v5pi+56S65Zu+54mHXG4gICAgdmFyIHNob3cgPSBmdW5jdGlvbihpdGVtLCBoZWlnaHQpe1xuICAgICAgdmFyIHN0YXJ0ID0gc2Nyb2xsRWxlbS5zY3JvbGxUb3AoKSwgZW5kID0gc3RhcnQgKyBoZWlnaHQ7XG4gICAgICB2YXIgZWxlbVRvcCA9IG5vdERvY21lbnQgPyBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gaXRlbS5vZmZzZXQoKS50b3AgLSBzY3JvbGxFbGVtLm9mZnNldCgpLnRvcCArIHN0YXJ0O1xuICAgICAgfSgpIDogaXRlbS5vZmZzZXQoKS50b3A7XG5cbiAgICAgIC8qIOWni+e7iOWPquWKoOi9veWcqOW9k+WJjeWxj+iMg+WbtOWGheeahOWbvueJhyAqL1xuICAgICAgaWYoZWxlbVRvcCA+PSBzdGFydCAmJiBlbGVtVG9wIDw9IGVuZCl7XG4gICAgICAgIGlmKCFpdGVtLmF0dHIoJ3NyYycpKXtcbiAgICAgICAgICB2YXIgc3JjID0gaXRlbS5hdHRyKCdsYXktc3JjJyk7XG4gICAgICAgICAgbGF5dWkuaW1nKHNyYywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gdGhhdC5sYXp5aW1nLmVsZW0uZXEoaW5kZXgpO1xuICAgICAgICAgICAgaXRlbS5hdHRyKCdzcmMnLCBzcmMpLnJlbW92ZUF0dHIoJ2xheS1zcmMnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLyog5b2T5YmN5Zu+54mH5Yqg6L295bCx57uq5ZCO77yM5qOA5rWL5LiL5LiA5Liq5Zu+54mH5piv5ZCm5Zyo5b2T5YmN5bGPICovXG4gICAgICAgICAgICBuZXh0WzBdICYmIHJlbmRlcihuZXh0KTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCByZW5kZXIgPSBmdW5jdGlvbihvdGhpcywgc2Nyb2xsKXtcbiAgICAgIFxuICAgICAgLy/orqHnrpfmu5rliqjmiYDlnKjlrrnlmajnmoTlj6/op4bpq5jluqZcbiAgICAgIHZhciBoZWlnaHQgPSBub3REb2NtZW50ID8gKHNjcm9sbHx8c2Nyb2xsRWxlbSkuaGVpZ2h0KCkgOiAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgICB2YXIgc3RhcnQgPSBzY3JvbGxFbGVtLnNjcm9sbFRvcCgpLCBlbmQgPSBzdGFydCArIGhlaWdodDtcblxuICAgICAgdGhhdC5sYXp5aW1nLmVsZW0gPSAkKGVsZW0pO1xuXG4gICAgICBpZihvdGhpcyl7XG4gICAgICAgIHNob3cob3RoaXMsIGhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL+iuoeeul+acquWKoOi9vei/h+eahOWbvueJh1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhhdC5sYXp5aW1nLmVsZW0ubGVuZ3RoOyBpKyspe1xuICAgICAgICAgIHZhciBpdGVtID0gdGhhdC5sYXp5aW1nLmVsZW0uZXEoaSksIGVsZW1Ub3AgPSBub3REb2NtZW50ID8gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLm9mZnNldCgpLnRvcCAtIHNjcm9sbEVsZW0ub2Zmc2V0KCkudG9wICsgc3RhcnQ7XG4gICAgICAgICAgfSgpIDogaXRlbS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgXG4gICAgICAgICAgc2hvdyhpdGVtLCBoZWlnaHQpO1xuICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICBcbiAgICAgICAgICAvL+WmguaenOWbvueJh+eahHRvcOWdkOagh++8jOi2heWHuuS6huW9k+WJjeWxj++8jOWImee7iOatouWQjue7reWbvueJh+eahOmBjeWOhlxuICAgICAgICAgIGlmKGVsZW1Ub3AgPiBlbmQpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZW5kZXIoKTtcbiAgICBcbiAgICBpZighaGF2ZVNjcm9sbCl7XG4gICAgICB2YXIgdGltZXI7XG4gICAgICBzY3JvbGxFbGVtLm9uKCdzY3JvbGwnLCBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgb3RoaXMgPSAkKHRoaXMpO1xuICAgICAgICBpZih0aW1lcikgY2xlYXJUaW1lb3V0KHRpbWVyKVxuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICByZW5kZXIobnVsbCwgb3RoaXMpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICB9KTsgXG4gICAgICBoYXZlU2Nyb2xsID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcjtcbiAgfTtcbiAgXG4gIC8v5pq06Zyy5o6l5Y+jXG4gIGV4cG9ydHMoJ2Zsb3cnLCBuZXcgRmxvdygpKTtcbn0pO1xuIl19

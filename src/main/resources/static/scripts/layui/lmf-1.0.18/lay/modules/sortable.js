/** layui-v2.3.0-rc1-lmf-1.0.18 MIT License By https://www.layui.com */
 ;layui.define(function(t){function e(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=D({},e),t[z]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var i in n)!(i in e)&&(e[i]=n[i]);st(e);for(var o in this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&$,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),r(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),at.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function n(t,e){"clone"!==t.lastPullMode&&(e=!0),E&&E.state!==e&&(c(E,"display",e?"none":""),e||E.state&&(t.options.group.revertClone?(x.insertBefore(E,N),t._animate(C,E)):x.insertBefore(E,C)),E.state=e)}function i(t,e,n){if(t){n=n||q;do if(">*"===e&&t.parentNode===n||b(t,e))return t;while(t=o(t))}return null}function o(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function a(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function r(t,e,n){t.addEventListener(e,n,K)}function s(t,e,n){t.removeEventListener(e,n,K)}function l(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(j," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(j," ")}}function c(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return q.defaultView&&q.defaultView.getComputedStyle?n=q.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function h(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,a=i.length;if(n)for(;o<a;o++)n(i[o],o);return i}return[]}function d(t,e,n,i,o,a,r){t=t||e[z];var s=q.createEvent("Event"),l=t.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=e,s.from=o||e,s.item=i||e,s.clone=E,s.oldIndex=a,s.newIndex=r,e.dispatchEvent(s),l[c]&&l[c].call(t,s)}function u(t,e,n,i,o,a,r,s){var l,c,h=t[z],d=h.options.onMove;return l=q.createEvent("Event"),l.initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=o||e,l.relatedRect=a||e.getBoundingClientRect(),l.willInsertAfter=s,t.dispatchEvent(l),d&&(c=d.call(h,l,r)),c}function f(t){t.draggable=!1}function p(){et=!1}function g(t,e){var n=t.lastElementChild,i=n.getBoundingClientRect();return e.clientY-(i.top+i.height)>5||e.clientX-(i.left+i.width)>5}function v(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function m(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!b(t,e)||n++;return n}function b(t,e){if(t){e=e.split(".");var n=e.shift().toUpperCase(),i=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(i)||[]).length!=e.length)}return!1}function _(t,e){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),n=void 0},e))}}function D(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function y(t){return Z?Z(t).clone(!0)[0]:J&&J.dom?J.dom(t).cloneNode(!0):t.cloneNode(!0)}function T(t){for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&ot.push(i)}}var C,w,S,E,x,N,k,B,Y,O,X,A,M,P,R,I,L,F,U,H,W={},j=/\s+/g,V=/left|right|inline/,z="Sortable"+(new Date).getTime(),G=window,q=G.document,Q=G.parseInt,Z=G.jQuery||G.Zepto,J=G.Polymer,K=!1,$=!!("draggable"in q.createElement("div")),tt=function(t){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(t=q.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}(),et=!1,nt=Math.abs,it=Math.min,ot=[],at=[],rt=_(function(t,e,n){if(n&&e.scroll){var i,o,a,r,s,l,c=n[z],h=e.scrollSensitivity,d=e.scrollSpeed,u=t.clientX,f=t.clientY,p=window.innerWidth,g=window.innerHeight;if(Y!==n&&(B=e.scroll,Y=n,O=e.scrollFn,B===!0)){B=n;do if(B.offsetWidth<B.scrollWidth||B.offsetHeight<B.scrollHeight)break;while(B=B.parentNode)}B&&(i=B,o=B.getBoundingClientRect(),a=(nt(o.right-u)<=h)-(nt(o.left-u)<=h),r=(nt(o.bottom-f)<=h)-(nt(o.top-f)<=h)),a||r||(a=(p-u<=h)-(u<=h),r=(g-f<=h)-(f<=h),(a||r)&&(i=G)),W.vx===a&&W.vy===r&&W.el===i||(W.el=i,W.vx=a,W.vy=r,clearInterval(W.pid),i&&(W.pid=setInterval(function(){return l=r?r*d:0,s=a?a*d:0,"function"==typeof O?O.call(c,s,l,t):void(i===G?G.scrollTo(G.pageXOffset+s,G.pageYOffset+l):(i.scrollTop+=l,i.scrollLeft+=s))},24)))}},30),st=function(t){function e(t,e){return void 0!==t&&t!==!0||(t=n.name),"function"==typeof t?t:function(n,i){var o=i.options.group.name;return e?t:t&&(t.join?t.indexOf(o)>-1:o==t)}}var n={},i=t.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n};e.prototype={constructor:e,_onTapStart:function(t){var e,n=this,o=this.el,a=this.options,r=a.preventOnFilter,s=t.type,l=t.touches&&t.touches[0],c=(l||t).target,h=t.target.shadowRoot&&t.path[0]||c,u=a.filter;if(T(o),!C&&!("mousedown"===s&&0!==t.button||a.disabled)&&(c=i(c,a.draggable,o),c&&k!==c)){if(e=m(c,a.draggable),"function"==typeof u){if(u.call(this,t,c,this))return d(n,h,"filter",c,o,e),void(r&&t.preventDefault())}else if(u&&(u=u.split(",").some(function(t){if(t=i(h,t.trim(),o))return d(n,t,"filter",c,o,e),!0})))return void(r&&t.preventDefault());a.handle&&!i(h,a.handle,o)||this._prepareDragStart(t,l,c,e)}},_prepareDragStart:function(t,e,n,i){var o,a=this,s=a.el,c=a.options,u=s.ownerDocument;n&&!C&&n.parentNode===s&&(F=t,x=s,C=n,w=C.parentNode,N=C.nextSibling,k=n,I=c.group,P=i,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,C.style["will-change"]="transform",o=function(){a._disableDelayedDrag(),C.draggable=a.nativeDraggable,l(C,c.chosenClass,!0),a._triggerDragStart(t,e),d(a,x,"choose",C,x,P)},c.ignore.split(",").forEach(function(t){h(C,t.trim(),f)}),r(u,"mouseup",a._onDrop),r(u,"touchend",a._onDrop),r(u,"touchcancel",a._onDrop),r(u,"pointercancel",a._onDrop),r(u,"selectstart",a),c.delay?(r(u,"mouseup",a._disableDelayedDrag),r(u,"touchend",a._disableDelayedDrag),r(u,"touchcancel",a._disableDelayedDrag),r(u,"mousemove",a._disableDelayedDrag),r(u,"touchmove",a._disableDelayedDrag),r(u,"pointermove",a._disableDelayedDrag),a._dragStartTimer=setTimeout(o,c.delay)):o())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),s(t,"mouseup",this._disableDelayedDrag),s(t,"touchend",this._disableDelayedDrag),s(t,"touchcancel",this._disableDelayedDrag),s(t,"mousemove",this._disableDelayedDrag),s(t,"touchmove",this._disableDelayedDrag),s(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),e?(F={target:C,clientX:e.clientX,clientY:e.clientY},this._onDragStart(F,"touch")):this.nativeDraggable?(r(C,"dragend",this),r(x,"dragstart",this._onDragStart)):this._onDragStart(F,!0);try{q.selection?setTimeout(function(){q.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(){if(x&&C){var t=this.options;l(C,t.ghostClass,!0),l(C,t.dragClass,!1),e.active=this,d(this,x,"start",C,x,P)}else this._nulling()},_emulateDragOver:function(){if(U){if(this._lastX===U.clientX&&this._lastY===U.clientY)return;this._lastX=U.clientX,this._lastY=U.clientY,tt||c(S,"display","none");var t=q.elementFromPoint(U.clientX,U.clientY),e=t,n=at.length;if(e)do{if(e[z]){for(;n--;)at[n]({clientX:U.clientX,clientY:U.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);tt||c(S,"display","")}},_onTouchMove:function(t){if(F){var n=this.options,i=n.fallbackTolerance,o=n.fallbackOffset,a=t.touches?t.touches[0]:t,r=a.clientX-F.clientX+o.x,s=a.clientY-F.clientY+o.y,l=t.touches?"translate3d("+r+"px,"+s+"px,0)":"translate("+r+"px,"+s+"px)";if(!e.active){if(i&&it(nt(a.clientX-this._lastX),nt(a.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),H=!0,U=a,c(S,"webkitTransform",l),c(S,"mozTransform",l),c(S,"msTransform",l),c(S,"transform",l),t.preventDefault()}},_appendGhost:function(){if(!S){var t,e=C.getBoundingClientRect(),n=c(C),i=this.options;S=C.cloneNode(!0),l(S,i.ghostClass,!1),l(S,i.fallbackClass,!0),l(S,i.dragClass,!0),c(S,"top",e.top-Q(n.marginTop,10)),c(S,"left",e.left-Q(n.marginLeft,10)),c(S,"width",e.width),c(S,"height",e.height),c(S,"opacity","0.8"),c(S,"position","fixed"),c(S,"zIndex","100000"),c(S,"pointerEvents","none"),i.fallbackOnBody&&q.body.appendChild(S)||x.appendChild(S),t=S.getBoundingClientRect(),c(S,"width",2*e.width-t.width),c(S,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var n=t.dataTransfer,i=this.options;this._offUpEvents(),I.checkPull(this,this,C,t)&&(E=y(C),E.draggable=!1,E.style["will-change"]="",c(E,"display","none"),l(E,this.options.chosenClass,!1),x.insertBefore(E,C),d(this,x,"clone",C)),l(C,i.dragClass,!0),e?("touch"===e?(r(q,"touchmove",this._onTouchMove),r(q,"touchend",this._onDrop),r(q,"touchcancel",this._onDrop),r(q,"pointermove",this._onTouchMove),r(q,"pointerup",this._onDrop)):(r(q,"mousemove",this._onTouchMove),r(q,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,C)),r(q,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var o,a,r,s,l=this.el,h=this.options,d=h.group,f=e.active,v=I===d,m=!1,b=h.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),!h.dragoverBubble&&t.stopPropagation()),!C.animated&&(H=!0,f&&!h.disabled&&(v?b||(s=!x.contains(C)):L===this||(f.lastPullMode=I.checkPull(this,f,C,t))&&d.checkPut(this,f,C,t))&&(void 0===t.rootEl||t.rootEl===this.el))){if(rt(t,h,this.el),et)return;if(o=i(t.target,h.draggable,l),a=C.getBoundingClientRect(),L!==this&&(L=this,m=!0),s)return n(f,!0),w=x,void(E||N?x.insertBefore(C,E||N):b||x.appendChild(C));if(0===l.children.length||l.children[0]===S||l===t.target&&g(l,t)){if(0!==l.children.length&&l.children[0]!==S&&l===t.target&&(o=l.lastElementChild),o){if(o.animated)return;r=o.getBoundingClientRect()}n(f,v),u(x,l,C,a,o,r,t)!==!1&&(C.contains(l)||(l.appendChild(C),w=l),this._animate(a,C),o&&this._animate(r,o))}else if(o&&!o.animated&&o!==C&&void 0!==o.parentNode[z]){X!==o&&(X=o,A=c(o),M=c(o.parentNode)),r=o.getBoundingClientRect();var _=r.right-r.left,D=r.bottom-r.top,y=V.test(A.cssFloat+A.display)||"flex"==M.display&&0===M["flex-direction"].indexOf("row"),T=o.offsetWidth>C.offsetWidth,k=o.offsetHeight>C.offsetHeight,B=(y?(t.clientX-r.left)/_:(t.clientY-r.top)/D)>.5,Y=o.nextElementSibling,O=!1;if(y){var P=C.offsetTop,R=o.offsetTop;O=P===R?o.previousElementSibling===C&&!T||B&&T:o.previousElementSibling===C||C.previousElementSibling===o?(t.clientY-r.top)/D>.5:R>P}else m||(O=Y!==C&&!k||B&&k);var F=u(x,l,C,a,o,r,t,O);F!==!1&&(1!==F&&F!==-1||(O=1===F),et=!0,setTimeout(p,30),n(f,v),C.contains(l)||(O&&!Y?l.appendChild(C):o.parentNode.insertBefore(C,O?Y:o)),w=C.parentNode,this._animate(a,C),this._animate(r,o))}}},_animate:function(t,e){var n=this.options.animation;if(n){var i=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),c(e,"transition","none"),c(e,"transform","translate3d("+(t.left-i.left)+"px,"+(t.top-i.top)+"px,0)"),e.offsetWidth,c(e,"transition","all "+n+"ms"),c(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){c(e,"transition",""),c(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;s(q,"touchmove",this._onTouchMove),s(q,"pointermove",this._onTouchMove),s(t,"mouseup",this._onDrop),s(t,"touchend",this._onDrop),s(t,"pointerup",this._onDrop),s(t,"touchcancel",this._onDrop),s(t,"pointercancel",this._onDrop),s(t,"selectstart",this)},_onDrop:function(t){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(W.pid),clearTimeout(this._dragStartTimer),s(q,"mousemove",this._onTouchMove),this.nativeDraggable&&(s(q,"drop",this),s(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(H&&(t.preventDefault(),!i.dropBubble&&t.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),x!==w&&"clone"===e.active.lastPullMode||E&&E.parentNode&&E.parentNode.removeChild(E),C&&(this.nativeDraggable&&s(C,"dragend",this),f(C),C.style["will-change"]="",l(C,this.options.ghostClass,!1),l(C,this.options.chosenClass,!1),d(this,x,"unchoose",C,x,P),x!==w?(R=m(C,i.draggable),R>=0&&(d(null,w,"add",C,x,P,R),d(this,x,"remove",C,x,P,R),d(null,w,"sort",C,x,P,R),d(this,x,"sort",C,x,P,R))):C.nextSibling!==N&&(R=m(C,i.draggable),R>=0&&(d(this,x,"update",C,x,P,R),d(this,x,"sort",C,x,P,R))),e.active&&(null!=R&&R!==-1||(R=P),d(this,x,"end",C,x,P,R),this.save()))),this._nulling()},_nulling:function(){x=C=w=S=N=E=k=B=Y=F=U=H=R=X=A=L=I=e.active=null,ot.forEach(function(t){t.checked=!0}),ot.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":C&&(this._onDragOver(t),a(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,a=n.length,r=this.options;o<a;o++)t=n[o],i(t,r.draggable,this.el)&&e.push(t.getAttribute(r.dataIdAttr)||v(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,o){var a=n.children[o];i(a,this.options.draggable,n)&&(e[t]=a)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return i(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;return void 0===e?n[t]:(n[t]=e,void("group"===t&&st(n)))},destroy:function(){var t=this.el;t[z]=null,s(t,"mousedown",this._onTapStart),s(t,"touchstart",this._onTapStart),s(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(s(t,"dragover",this),s(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),at.splice(at.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},r(q,"touchmove",function(t){e.active&&t.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){K={capture:!1,passive:!1}}}))}catch(lt){}e.utils={on:r,off:s,css:c,find:h,is:function(t,e){return!!i(t,e,t)},extend:D,throttle:_,closest:i,toggleClass:l,clone:y,index:m},e.create=function(t,n){return new e(t,n)},e.version="1.6.0",t("sortable",e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxheS9tb2R1bGVzL3NvcnRhYmxlLmpzIl0sIm5hbWVzIjpbImxheXVpIiwiZGVmaW5lIiwiZXhwb3J0cyIsIlNvcnRhYmxlIiwiZWwiLCJvcHRpb25zIiwibm9kZVR5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJ0aGlzIiwiX2V4dGVuZCIsImV4cGFuZG8iLCJkZWZhdWx0cyIsImdyb3VwIiwiTWF0aCIsInJhbmRvbSIsInNvcnQiLCJkaXNhYmxlZCIsInN0b3JlIiwiaGFuZGxlIiwic2Nyb2xsIiwic2Nyb2xsU2Vuc2l0aXZpdHkiLCJzY3JvbGxTcGVlZCIsImRyYWdnYWJsZSIsInRlc3QiLCJub2RlTmFtZSIsImdob3N0Q2xhc3MiLCJjaG9zZW5DbGFzcyIsImRyYWdDbGFzcyIsImlnbm9yZSIsImZpbHRlciIsInByZXZlbnRPbkZpbHRlciIsImFuaW1hdGlvbiIsInNldERhdGEiLCJkYXRhVHJhbnNmZXIiLCJkcmFnRWwiLCJ0ZXh0Q29udGVudCIsImRyb3BCdWJibGUiLCJkcmFnb3ZlckJ1YmJsZSIsImRhdGFJZEF0dHIiLCJkZWxheSIsImZvcmNlRmFsbGJhY2siLCJmYWxsYmFja0NsYXNzIiwiZmFsbGJhY2tPbkJvZHkiLCJmYWxsYmFja1RvbGVyYW5jZSIsImZhbGxiYWNrT2Zmc2V0IiwieCIsInkiLCJuYW1lIiwiX3ByZXBhcmVHcm91cCIsImZuIiwiY2hhckF0IiwiYmluZCIsIm5hdGl2ZURyYWdnYWJsZSIsInN1cHBvcnREcmFnZ2FibGUiLCJfb24iLCJfb25UYXBTdGFydCIsInRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMiLCJwdXNoIiwiX29uRHJhZ092ZXIiLCJnZXQiLCJfY2xvbmVIaWRlIiwic29ydGFibGUiLCJzdGF0ZSIsImxhc3RQdWxsTW9kZSIsImNsb25lRWwiLCJfY3NzIiwicmV2ZXJ0Q2xvbmUiLCJyb290RWwiLCJpbnNlcnRCZWZvcmUiLCJuZXh0RWwiLCJfYW5pbWF0ZSIsIl9jbG9zZXN0Iiwic2VsZWN0b3IiLCJjdHgiLCJkb2N1bWVudCIsInBhcmVudE5vZGUiLCJfbWF0Y2hlcyIsIl9nZXRQYXJlbnRPckhvc3QiLCJwYXJlbnQiLCJob3N0IiwiX2dsb2JhbERyYWdPdmVyIiwiZXZ0IiwiZHJvcEVmZmVjdCIsInByZXZlbnREZWZhdWx0IiwiZXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FwdHVyZU1vZGUiLCJfb2ZmIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90b2dnbGVDbGFzcyIsImNsYXNzTGlzdCIsImNsYXNzTmFtZSIsInJlcGxhY2UiLCJSX1NQQUNFIiwicHJvcCIsInZhbCIsInN0eWxlIiwiZGVmYXVsdFZpZXciLCJnZXRDb21wdXRlZFN0eWxlIiwiY3VycmVudFN0eWxlIiwiX2ZpbmQiLCJ0YWdOYW1lIiwiaXRlcmF0b3IiLCJsaXN0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpIiwibiIsImxlbmd0aCIsIl9kaXNwYXRjaEV2ZW50IiwidGFyZ2V0RWwiLCJmcm9tRWwiLCJzdGFydEluZGV4IiwibmV3SW5kZXgiLCJjcmVhdGVFdmVudCIsIm9uTmFtZSIsInRvVXBwZXJDYXNlIiwic3Vic3RyIiwiaW5pdEV2ZW50IiwidG8iLCJmcm9tIiwiaXRlbSIsImNsb25lIiwib2xkSW5kZXgiLCJkaXNwYXRjaEV2ZW50IiwiX29uTW92ZSIsInRvRWwiLCJkcmFnUmVjdCIsInRhcmdldFJlY3QiLCJvcmlnaW5hbEV2dCIsIndpbGxJbnNlcnRBZnRlciIsInJldFZhbCIsIm9uTW92ZUZuIiwib25Nb3ZlIiwiZHJhZ2dlZCIsImRyYWdnZWRSZWN0IiwicmVsYXRlZCIsInJlbGF0ZWRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiX2Rpc2FibGVEcmFnZ2FibGUiLCJfdW5zaWxlbnQiLCJfc2lsZW50IiwiX2dob3N0SXNMYXN0IiwibGFzdEVsIiwibGFzdEVsZW1lbnRDaGlsZCIsInJlY3QiLCJjbGllbnRZIiwidG9wIiwiaGVpZ2h0IiwiY2xpZW50WCIsImxlZnQiLCJ3aWR0aCIsIl9nZW5lcmF0ZUlkIiwic3RyIiwic3JjIiwiaHJlZiIsInN1bSIsImNoYXJDb2RlQXQiLCJfaW5kZXgiLCJpbmRleCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJzcGxpdCIsInRhZyIsInNoaWZ0IiwicmUiLCJSZWdFeHAiLCJqb2luIiwibWF0Y2giLCJfdGhyb3R0bGUiLCJjYWxsYmFjayIsIm1zIiwiYXJncyIsIl90aGlzIiwiYXJndW1lbnRzIiwic2V0VGltZW91dCIsImFwcGx5IiwiZHN0Iiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJfY2xvbmUiLCIkIiwiUG9seW1lciIsImRvbSIsImNsb25lTm9kZSIsIl9zYXZlSW5wdXRDaGVja2VkU3RhdGUiLCJyb290IiwiaW5wdXRzIiwiaWR4IiwiY2hlY2tlZCIsInNhdmVkSW5wdXRDaGVja2VkIiwicGFyZW50RWwiLCJnaG9zdEVsIiwibGFzdERvd25FbCIsInNjcm9sbEVsIiwic2Nyb2xsUGFyZW50RWwiLCJzY3JvbGxDdXN0b21GbiIsImxhc3RDU1MiLCJsYXN0UGFyZW50Q1NTIiwiYWN0aXZlR3JvdXAiLCJwdXRTb3J0YWJsZSIsInRhcEV2dCIsInRvdWNoRXZ0IiwibW92ZWQiLCJhdXRvU2Nyb2xsIiwiUl9GTE9BVCIsIkRhdGUiLCJnZXRUaW1lIiwid2luIiwid2luZG93IiwicGFyc2VJbnQiLCJqUXVlcnkiLCJaZXB0byIsImNyZWF0ZUVsZW1lbnQiLCJzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImNzc1RleHQiLCJwb2ludGVyRXZlbnRzIiwiYWJzIiwibWluIiwiX2F1dG9TY3JvbGwiLCJ2eCIsInZ5Iiwic2Nyb2xsT2Zmc2V0WCIsInNjcm9sbE9mZnNldFkiLCJzZW5zIiwic3BlZWQiLCJ3aW5XaWR0aCIsImlubmVyV2lkdGgiLCJ3aW5IZWlnaHQiLCJpbm5lckhlaWdodCIsInNjcm9sbEZuIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxXaWR0aCIsIm9mZnNldEhlaWdodCIsInNjcm9sbEhlaWdodCIsInJpZ2h0IiwiYm90dG9tIiwiY2xlYXJJbnRlcnZhbCIsInBpZCIsInNldEludGVydmFsIiwic2Nyb2xsVG8iLCJwYWdlWE9mZnNldCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsInRvRm4iLCJ2YWx1ZSIsInB1bGwiLCJmcm9tR3JvdXAiLCJpbmRleE9mIiwib3JpZ2luYWxHcm91cCIsImNoZWNrUHVsbCIsImNoZWNrUHV0IiwicHV0IiwicHJvdG90eXBlIiwiY29uc3RydWN0b3IiLCJ0eXBlIiwidG91Y2giLCJ0b3VjaGVzIiwidGFyZ2V0Iiwib3JpZ2luYWxUYXJnZXQiLCJzaGFkb3dSb290IiwicGF0aCIsImJ1dHRvbiIsInNvbWUiLCJjcml0ZXJpYSIsInRyaW0iLCJfcHJlcGFyZURyYWdTdGFydCIsImRyYWdTdGFydEZuIiwib3duZXJEb2N1bWVudCIsIm5leHRTaWJsaW5nIiwiX2xhc3RYIiwiX2xhc3RZIiwiX2Rpc2FibGVEZWxheWVkRHJhZyIsIl90cmlnZ2VyRHJhZ1N0YXJ0IiwiZm9yRWFjaCIsIl9vbkRyb3AiLCJfZHJhZ1N0YXJ0VGltZXIiLCJjbGVhclRpbWVvdXQiLCJwb2ludGVyVHlwZSIsIl9vbkRyYWdTdGFydCIsInNlbGVjdGlvbiIsImVtcHR5IiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwiZXJyIiwiX2RyYWdTdGFydGVkIiwiYWN0aXZlIiwiX251bGxpbmciLCJfZW11bGF0ZURyYWdPdmVyIiwiZWxlbWVudEZyb21Qb2ludCIsIl9vblRvdWNoTW92ZSIsImR4IiwiZHkiLCJ0cmFuc2xhdGUzZCIsIl9hcHBlbmRHaG9zdCIsImdob3N0UmVjdCIsImNzcyIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ1c2VGYWxsYmFjayIsIl9vZmZVcEV2ZW50cyIsIl9sb29wSWQiLCJlZmZlY3RBbGxvd2VkIiwicmV2ZXJ0IiwiYWN0aXZlU29ydGFibGUiLCJpc093bmVyIiwiaXNNb3ZpbmdCZXR3ZWVuU29ydGFibGUiLCJjYW5Tb3J0Iiwic3RvcFByb3BhZ2F0aW9uIiwiYW5pbWF0ZWQiLCJjb250YWlucyIsImNoaWxkcmVuIiwiZmxvYXRpbmciLCJjc3NGbG9hdCIsImRpc3BsYXkiLCJpc1dpZGUiLCJpc0xvbmciLCJoYWxmd2F5IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiYWZ0ZXIiLCJlbFRvcCIsIm9mZnNldFRvcCIsInRnVG9wIiwibW92ZVZlY3RvciIsInByZXZSZWN0IiwiY3VycmVudFJlY3QiLCJyZW1vdmVDaGlsZCIsInNhdmUiLCJoYW5kbGVFdmVudCIsInRvQXJyYXkiLCJvcmRlciIsImdldEF0dHJpYnV0ZSIsIml0ZW1zIiwiaWQiLCJzZXQiLCJjbG9zZXN0Iiwib3B0aW9uIiwiZGVzdHJveSIsIkFycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZUF0dHJpYnV0ZSIsInNwbGljZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY2FwdHVyZSIsInBhc3NpdmUiLCJ1dGlscyIsIm9uIiwib2ZmIiwiZmluZCIsImlzIiwiZXh0ZW5kIiwidGhyb3R0bGUiLCJ0b2dnbGVDbGFzcyIsImNyZWF0ZSIsInZlcnNpb24iXSwibWFwcGluZ3MiOiI7RUFPQUEsTUFBTUMsT0FBTyxTQUFVQyxHQW9NbkIsUUFBU0MsR0FBU0MsRUFBSUMsR0FDbEIsSUFBTUQsSUFBTUEsRUFBR0UsVUFBNEIsSUFBaEJGLEVBQUdFLFNBQzFCLEtBQU0sa0RBQW9EQyxTQUFTQyxLQUFLSixFQUc1RUssTUFBS0wsR0FBS0EsRUFDVkssS0FBS0osUUFBVUEsRUFBVUssS0FBWUwsR0FJckNELEVBQUdPLEdBQVdGLElBR2QsSUFBSUcsSUFDQUMsTUFBT0MsS0FBS0MsU0FDWkMsTUFBTSxFQUNOQyxVQUFVLEVBQ1ZDLE1BQU8sS0FDUEMsT0FBUSxLQUNSQyxRQUFRLEVBQ1JDLGtCQUFtQixHQUNuQkMsWUFBYSxHQUNiQyxVQUFXLFNBQVNDLEtBQUtwQixFQUFHcUIsVUFBWSxLQUFPLEtBQy9DQyxXQUFZLGlCQUNaQyxZQUFhLGtCQUNiQyxV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XG4gKiBTb3J0YWJsZVxuICogQGF1dGhvciAgICBSdWJhWGEgICA8dHJhc2hAcnViYXhhLm9yZz5cbiAqIEBsaWNlbnNlIE1JVFxuICogQGdpdCBodHRwczovL2dpdGh1Yi5jb20vUnViYVhhL1NvcnRhYmxlL2Jsb2IvMS42LjAvU29ydGFibGUuanNcbiAqL1xuXG5sYXl1aS5kZWZpbmUoZnVuY3Rpb24gKGV4cG9ydHMpIHtcblxuICAgIHZhciBkcmFnRWwsXG4gICAgICAgIHBhcmVudEVsLFxuICAgICAgICBnaG9zdEVsLFxuICAgICAgICBjbG9uZUVsLFxuICAgICAgICByb290RWwsXG4gICAgICAgIG5leHRFbCxcbiAgICAgICAgbGFzdERvd25FbCxcblxuICAgICAgICBzY3JvbGxFbCxcbiAgICAgICAgc2Nyb2xsUGFyZW50RWwsXG4gICAgICAgIHNjcm9sbEN1c3RvbUZuLFxuXG4gICAgICAgIGxhc3RFbCxcbiAgICAgICAgbGFzdENTUyxcbiAgICAgICAgbGFzdFBhcmVudENTUyxcblxuICAgICAgICBvbGRJbmRleCxcbiAgICAgICAgbmV3SW5kZXgsXG5cbiAgICAgICAgYWN0aXZlR3JvdXAsXG4gICAgICAgIHB1dFNvcnRhYmxlLFxuXG4gICAgICAgIGF1dG9TY3JvbGwgPSB7fSxcblxuICAgICAgICB0YXBFdnQsXG4gICAgICAgIHRvdWNoRXZ0LFxuXG4gICAgICAgIG1vdmVkLFxuXG4gICAgICAgIC8qKiBAY29uc3QgKi9cbiAgICAgICAgUl9TUEFDRSA9IC9cXHMrL2csXG4gICAgICAgIFJfRkxPQVQgPSAvbGVmdHxyaWdodHxpbmxpbmUvLFxuXG4gICAgICAgIGV4cGFuZG8gPSAnU29ydGFibGUnICsgKG5ldyBEYXRlKS5nZXRUaW1lKCksXG5cbiAgICAgICAgd2luID0gd2luZG93LFxuICAgICAgICBkb2N1bWVudCA9IHdpbi5kb2N1bWVudCxcbiAgICAgICAgcGFyc2VJbnQgPSB3aW4ucGFyc2VJbnQsXG5cbiAgICAgICAgJCA9IHdpbi5qUXVlcnkgfHwgd2luLlplcHRvLFxuICAgICAgICBQb2x5bWVyID0gd2luLlBvbHltZXIsXG5cbiAgICAgICAgY2FwdHVyZU1vZGUgPSBmYWxzZSxcblxuICAgICAgICBzdXBwb3J0RHJhZ2dhYmxlID0gISEoJ2RyYWdnYWJsZScgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpLFxuICAgICAgICBzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cyA9IChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIC8vIGZhbHNlIHdoZW4gSUUxMVxuICAgICAgICAgICAgaWYgKCEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudC4qcnZbIDpdPzExXFwuLykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3gnKTtcbiAgICAgICAgICAgIGVsLnN0eWxlLmNzc1RleHQgPSAncG9pbnRlci1ldmVudHM6YXV0byc7XG4gICAgICAgICAgICByZXR1cm4gZWwuc3R5bGUucG9pbnRlckV2ZW50cyA9PT0gJ2F1dG8nO1xuICAgICAgICB9KSgpLFxuXG4gICAgICAgIF9zaWxlbnQgPSBmYWxzZSxcblxuICAgICAgICBhYnMgPSBNYXRoLmFicyxcbiAgICAgICAgbWluID0gTWF0aC5taW4sXG5cbiAgICAgICAgc2F2ZWRJbnB1dENoZWNrZWQgPSBbXSxcbiAgICAgICAgdG91Y2hEcmFnT3Zlckxpc3RlbmVycyA9IFtdLFxuXG4gICAgICAgIF9hdXRvU2Nyb2xsID0gX3Rocm90dGxlKGZ1bmN0aW9uICgvKipFdmVudCovZXZ0LCAvKipPYmplY3QqL29wdGlvbnMsIC8qKkhUTUxFbGVtZW50Ki9yb290RWwpIHtcbiAgICAgICAgICAgIC8vIEJ1ZzogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTA1NTIxXG4gICAgICAgICAgICBpZiAocm9vdEVsICYmIG9wdGlvbnMuc2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gcm9vdEVsW2V4cGFuZG9dLFxuICAgICAgICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgICAgICAgcmVjdCxcbiAgICAgICAgICAgICAgICAgICAgc2VucyA9IG9wdGlvbnMuc2Nyb2xsU2Vuc2l0aXZpdHksXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkID0gb3B0aW9ucy5zY3JvbGxTcGVlZCxcblxuICAgICAgICAgICAgICAgICAgICB4ID0gZXZ0LmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgIHkgPSBldnQuY2xpZW50WSxcblxuICAgICAgICAgICAgICAgICAgICB3aW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICB3aW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsXG5cbiAgICAgICAgICAgICAgICAgICAgdngsXG4gICAgICAgICAgICAgICAgICAgIHZ5LFxuXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbE9mZnNldFgsXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbE9mZnNldFlcbiAgICAgICAgICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVsZWN0IHNjcm9sbEVsXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbFBhcmVudEVsICE9PSByb290RWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRWwgPSBvcHRpb25zLnNjcm9sbDtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUGFyZW50RWwgPSByb290RWw7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbEN1c3RvbUZuID0gb3B0aW9ucy5zY3JvbGxGbjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsRWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEVsID0gcm9vdEVsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzY3JvbGxFbC5vZmZzZXRXaWR0aCA8IHNjcm9sbEVsLnNjcm9sbFdpZHRoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2Nyb2xsRWwub2Zmc2V0SGVpZ2h0IDwgc2Nyb2xsRWwuc2Nyb2xsSGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoc2Nyb2xsRWwgPSBzY3JvbGxFbC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxFbCkge1xuICAgICAgICAgICAgICAgICAgICBlbCA9IHNjcm9sbEVsO1xuICAgICAgICAgICAgICAgICAgICByZWN0ID0gc2Nyb2xsRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZ4ID0gKGFicyhyZWN0LnJpZ2h0IC0geCkgPD0gc2VucykgLSAoYWJzKHJlY3QubGVmdCAtIHgpIDw9IHNlbnMpO1xuICAgICAgICAgICAgICAgICAgICB2eSA9IChhYnMocmVjdC5ib3R0b20gLSB5KSA8PSBzZW5zKSAtIChhYnMocmVjdC50b3AgLSB5KSA8PSBzZW5zKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGlmICghKHZ4IHx8IHZ5KSkge1xuICAgICAgICAgICAgICAgICAgICB2eCA9ICh3aW5XaWR0aCAtIHggPD0gc2VucykgLSAoeCA8PSBzZW5zKTtcbiAgICAgICAgICAgICAgICAgICAgdnkgPSAod2luSGVpZ2h0IC0geSA8PSBzZW5zKSAtICh5IDw9IHNlbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qIGpzaGludCBleHByOnRydWUgKi9cbiAgICAgICAgICAgICAgICAgICAgKHZ4IHx8IHZ5KSAmJiAoZWwgPSB3aW4pO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgaWYgKGF1dG9TY3JvbGwudnggIT09IHZ4IHx8IGF1dG9TY3JvbGwudnkgIT09IHZ5IHx8IGF1dG9TY3JvbGwuZWwgIT09IGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9TY3JvbGwuZWwgPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgYXV0b1Njcm9sbC52eCA9IHZ4O1xuICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsLnZ5ID0gdnk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsLnBpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsLnBpZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXRZID0gdnkgPyB2eSAqIHNwZWVkIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXRYID0gdnggPyB2eCAqIHNwZWVkIDogMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2Yoc2Nyb2xsQ3VzdG9tRm4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxDdXN0b21Gbi5jYWxsKF90aGlzLCBzY3JvbGxPZmZzZXRYLCBzY3JvbGxPZmZzZXRZLCBldnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbCA9PT0gd2luKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbi5zY3JvbGxUbyh3aW4ucGFnZVhPZmZzZXQgKyBzY3JvbGxPZmZzZXRYLCB3aW4ucGFnZVlPZmZzZXQgKyBzY3JvbGxPZmZzZXRZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5zY3JvbGxUb3AgKz0gc2Nyb2xsT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuc2Nyb2xsTGVmdCArPSBzY3JvbGxPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDI0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMzApLFxuXG4gICAgICAgIF9wcmVwYXJlR3JvdXAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgZnVuY3Rpb24gdG9Gbih2YWx1ZSwgcHVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwIHx8IHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZ3JvdXAubmFtZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbUdyb3VwID0gZnJvbS5vcHRpb25zLmdyb3VwLm5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwdWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsdWUgJiYgKHZhbHVlLmpvaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZS5pbmRleE9mKGZyb21Hcm91cCkgPiAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChmcm9tR3JvdXAgPT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGdyb3VwID0ge307XG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxHcm91cCA9IG9wdGlvbnMuZ3JvdXA7XG5cbiAgICAgICAgICAgIGlmICghb3JpZ2luYWxHcm91cCB8fCB0eXBlb2Ygb3JpZ2luYWxHcm91cCAhPSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsR3JvdXAgPSB7bmFtZTogb3JpZ2luYWxHcm91cH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdyb3VwLm5hbWUgPSBvcmlnaW5hbEdyb3VwLm5hbWU7XG4gICAgICAgICAgICBncm91cC5jaGVja1B1bGwgPSB0b0ZuKG9yaWdpbmFsR3JvdXAucHVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICBncm91cC5jaGVja1B1dCA9IHRvRm4ob3JpZ2luYWxHcm91cC5wdXQpO1xuICAgICAgICAgICAgZ3JvdXAucmV2ZXJ0Q2xvbmUgPSBvcmlnaW5hbEdyb3VwLnJldmVydENsb25lO1xuXG4gICAgICAgICAgICBvcHRpb25zLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgO1xuXG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgIFNvcnRhYmxlXG4gICAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR9ICBlbFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gU29ydGFibGUoZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCEoZWwgJiYgZWwubm9kZVR5cGUgJiYgZWwubm9kZVR5cGUgPT09IDEpKSB7XG4gICAgICAgICAgICB0aHJvdyAnU29ydGFibGU6IGBlbGAgbXVzdCBiZSBIVE1MRWxlbWVudCwgYW5kIG5vdCAnICsge30udG9TdHJpbmcuY2FsbChlbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsID0gZWw7IC8vIHJvb3QgZWxlbWVudFxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zID0gX2V4dGVuZCh7fSwgb3B0aW9ucyk7XG5cblxuICAgICAgICAvLyBFeHBvcnQgaW5zdGFuY2VcbiAgICAgICAgZWxbZXhwYW5kb10gPSB0aGlzO1xuXG4gICAgICAgIC8vIERlZmF1bHQgb3B0aW9uc1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBncm91cDogTWF0aC5yYW5kb20oKSxcbiAgICAgICAgICAgIHNvcnQ6IHRydWUsXG4gICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgICAgICBzdG9yZTogbnVsbCxcbiAgICAgICAgICAgIGhhbmRsZTogbnVsbCxcbiAgICAgICAgICAgIHNjcm9sbDogdHJ1ZSxcbiAgICAgICAgICAgIHNjcm9sbFNlbnNpdGl2aXR5OiAzMCxcbiAgICAgICAgICAgIHNjcm9sbFNwZWVkOiAxMCxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogL1t1b11sL2kudGVzdChlbC5ub2RlTmFtZSkgPyAnbGknIDogJz4qJyxcbiAgICAgICAgICAgIGdob3N0Q2xhc3M6ICdzb3J0YWJsZS1naG9zdCcsXG4gICAgICAgICAgICBjaG9zZW5DbGFzczogJ3NvcnRhYmxlLWNob3NlbicsXG4gICAgICAgICAgICBkcmFnQ2xhc3M6ICdzb3J0YWJsZS1kcmFnJyxcbiAgICAgICAgICAgIGlnbm9yZTogJ2EsIGltZycsXG4gICAgICAgICAgICBmaWx0ZXI6IG51bGwsXG4gICAgICAgICAgICBwcmV2ZW50T25GaWx0ZXI6IHRydWUsXG4gICAgICAgICAgICBhbmltYXRpb246IDAsXG4gICAgICAgICAgICBzZXREYXRhOiBmdW5jdGlvbiAoZGF0YVRyYW5zZmVyLCBkcmFnRWwpIHtcbiAgICAgICAgICAgICAgICBkYXRhVHJhbnNmZXIuc2V0RGF0YSgnVGV4dCcsIGRyYWdFbC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHJvcEJ1YmJsZTogZmFsc2UsXG4gICAgICAgICAgICBkcmFnb3ZlckJ1YmJsZTogZmFsc2UsXG4gICAgICAgICAgICBkYXRhSWRBdHRyOiAnZGF0YS1pZCcsXG4gICAgICAgICAgICBkZWxheTogMCxcbiAgICAgICAgICAgIGZvcmNlRmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgZmFsbGJhY2tDbGFzczogJ3NvcnRhYmxlLWZhbGxiYWNrJyxcbiAgICAgICAgICAgIGZhbGxiYWNrT25Cb2R5OiBmYWxzZSxcbiAgICAgICAgICAgIGZhbGxiYWNrVG9sZXJhbmNlOiAwLFxuICAgICAgICAgICAgZmFsbGJhY2tPZmZzZXQ6IHt4OiAwLCB5OiAwfVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICAhKG5hbWUgaW4gb3B0aW9ucykgJiYgKG9wdGlvbnNbbmFtZV0gPSBkZWZhdWx0c1tuYW1lXSk7XG4gICAgICAgIH1cblxuICAgICAgICBfcHJlcGFyZUdyb3VwKG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEJpbmQgYWxsIHByaXZhdGUgbWV0aG9kc1xuICAgICAgICBmb3IgKHZhciBmbiBpbiB0aGlzKSB7XG4gICAgICAgICAgICBpZiAoZm4uY2hhckF0KDApID09PSAnXycgJiYgdHlwZW9mIHRoaXNbZm5dID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0dXAgZHJhZyBtb2RlXG4gICAgICAgIHRoaXMubmF0aXZlRHJhZ2dhYmxlID0gb3B0aW9ucy5mb3JjZUZhbGxiYWNrID8gZmFsc2UgOiBzdXBwb3J0RHJhZ2dhYmxlO1xuXG4gICAgICAgIC8vIEJpbmQgZXZlbnRzXG4gICAgICAgIF9vbihlbCwgJ21vdXNlZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuICAgICAgICBfb24oZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG4gICAgICAgIF9vbihlbCwgJ3BvaW50ZXJkb3duJywgdGhpcy5fb25UYXBTdGFydCk7XG5cbiAgICAgICAgaWYgKHRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgICAgICBfb24oZWwsICdkcmFnb3ZlcicsIHRoaXMpO1xuICAgICAgICAgICAgX29uKGVsLCAnZHJhZ2VudGVyJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0b3VjaERyYWdPdmVyTGlzdGVuZXJzLnB1c2godGhpcy5fb25EcmFnT3Zlcik7XG5cbiAgICAgICAgLy8gUmVzdG9yZSBzb3J0aW5nXG4gICAgICAgIG9wdGlvbnMuc3RvcmUgJiYgdGhpcy5zb3J0KG9wdGlvbnMuc3RvcmUuZ2V0KHRoaXMpKTtcbiAgICB9XG5cblxuICAgIFNvcnRhYmxlLnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgU29ydGFibGUucHJvdG90eXBlICovIHtcbiAgICAgICAgY29uc3RydWN0b3I6IFNvcnRhYmxlLFxuXG4gICAgICAgIF9vblRhcFN0YXJ0OiBmdW5jdGlvbiAoLyoqIEV2ZW50fFRvdWNoRXZlbnQgKi9ldnQpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZWwgPSB0aGlzLmVsLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgcHJldmVudE9uRmlsdGVyID0gb3B0aW9ucy5wcmV2ZW50T25GaWx0ZXIsXG4gICAgICAgICAgICAgICAgdHlwZSA9IGV2dC50eXBlLFxuICAgICAgICAgICAgICAgIHRvdWNoID0gZXZ0LnRvdWNoZXMgJiYgZXZ0LnRvdWNoZXNbMF0sXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gKHRvdWNoIHx8IGV2dCkudGFyZ2V0LFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsVGFyZ2V0ID0gZXZ0LnRhcmdldC5zaGFkb3dSb290ICYmIGV2dC5wYXRoWzBdIHx8IHRhcmdldCxcbiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcixcbiAgICAgICAgICAgICAgICBzdGFydEluZGV4O1xuXG4gICAgICAgICAgICBfc2F2ZUlucHV0Q2hlY2tlZFN0YXRlKGVsKTtcblxuXG4gICAgICAgICAgICAvLyBEb24ndCB0cmlnZ2VyIHN0YXJ0IGV2ZW50IHdoZW4gYW4gZWxlbWVudCBpcyBiZWVuIGRyYWdnZWQsIG90aGVyd2lzZSB0aGUgZXZ0Lm9sZGluZGV4IGFsd2F5cyB3cm9uZyB3aGVuIHNldCBvcHRpb24uZ3JvdXAuXG4gICAgICAgICAgICBpZiAoZHJhZ0VsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlZG93bicgJiYgZXZ0LmJ1dHRvbiAhPT0gMCB8fCBvcHRpb25zLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBvbmx5IGxlZnQgYnV0dG9uIG9yIGVuYWJsZWRcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB0YXJnZXQgPSBfY2xvc2VzdCh0YXJnZXQsIG9wdGlvbnMuZHJhZ2dhYmxlLCBlbCk7XG5cbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGFzdERvd25FbCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JpbmcgZHVwbGljYXRlIGBkb3duYFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG4gICAgICAgICAgICBzdGFydEluZGV4ID0gX2luZGV4KHRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBmaWx0ZXJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlci5jYWxsKHRoaXMsIGV2dCwgdGFyZ2V0LCB0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICBfZGlzcGF0Y2hFdmVudChfdGhpcywgb3JpZ2luYWxUYXJnZXQsICdmaWx0ZXInLCB0YXJnZXQsIGVsLCBzdGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudE9uRmlsdGVyICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGNhbmNlbCBkbmRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBmaWx0ZXIuc3BsaXQoJywnKS5zb21lKGZ1bmN0aW9uIChjcml0ZXJpYSkge1xuICAgICAgICAgICAgICAgICAgICBjcml0ZXJpYSA9IF9jbG9zZXN0KG9yaWdpbmFsVGFyZ2V0LCBjcml0ZXJpYS50cmltKCksIGVsKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JpdGVyaWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KF90aGlzLCBjcml0ZXJpYSwgJ2ZpbHRlcicsIHRhcmdldCwgZWwsIHN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudE9uRmlsdGVyICYmIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGNhbmNlbCBkbmRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhbmRsZSAmJiAhX2Nsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIG9wdGlvbnMuaGFuZGxlLCBlbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFByZXBhcmUgYGRyYWdzdGFydGBcbiAgICAgICAgICAgIHRoaXMuX3ByZXBhcmVEcmFnU3RhcnQoZXZ0LCB0b3VjaCwgdGFyZ2V0LCBzdGFydEluZGV4KTtcbiAgICAgICAgfSxcblxuICAgICAgICBfcHJlcGFyZURyYWdTdGFydDogZnVuY3Rpb24gKC8qKiBFdmVudCAqL2V2dCwgLyoqIFRvdWNoICovdG91Y2gsIC8qKiBIVE1MRWxlbWVudCAqL3RhcmdldCwgLyoqIE51bWJlciAqL3N0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZWwgPSBfdGhpcy5lbCxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX3RoaXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBvd25lckRvY3VtZW50ID0gZWwub3duZXJEb2N1bWVudCxcbiAgICAgICAgICAgICAgICBkcmFnU3RhcnRGbjtcblxuICAgICAgICAgICAgaWYgKHRhcmdldCAmJiAhZHJhZ0VsICYmICh0YXJnZXQucGFyZW50Tm9kZSA9PT0gZWwpKSB7XG4gICAgICAgICAgICAgICAgdGFwRXZ0ID0gZXZ0O1xuXG4gICAgICAgICAgICAgICAgcm9vdEVsID0gZWw7XG4gICAgICAgICAgICAgICAgZHJhZ0VsID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgIHBhcmVudEVsID0gZHJhZ0VsLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgbmV4dEVsID0gZHJhZ0VsLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIGxhc3REb3duRWwgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgYWN0aXZlR3JvdXAgPSBvcHRpb25zLmdyb3VwO1xuICAgICAgICAgICAgICAgIG9sZEluZGV4ID0gc3RhcnRJbmRleDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RYID0gKHRvdWNoIHx8IGV2dCkuY2xpZW50WDtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0WSA9ICh0b3VjaCB8fCBldnQpLmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICBkcmFnRWwuc3R5bGVbJ3dpbGwtY2hhbmdlJ10gPSAndHJhbnNmb3JtJztcblxuICAgICAgICAgICAgICAgIGRyYWdTdGFydEZuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWxheWVkIGRyYWcgaGFzIGJlZW4gdHJpZ2dlcmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbiByZS1lbmFibGUgdGhlIGV2ZW50czogdG91Y2htb3ZlL21vdXNlbW92ZVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSB0aGUgZWxlbWVudCBkcmFnZ2FibGVcbiAgICAgICAgICAgICAgICAgICAgZHJhZ0VsLmRyYWdnYWJsZSA9IF90aGlzLm5hdGl2ZURyYWdnYWJsZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDaG9zZW4gaXRlbVxuICAgICAgICAgICAgICAgICAgICBfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmNob3NlbkNsYXNzLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBCaW5kIHRoZSBldmVudHM6IGRyYWdzdGFydC9kcmFnZW5kXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl90cmlnZ2VyRHJhZ1N0YXJ0KGV2dCwgdG91Y2gpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERyYWcgc3RhcnQgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQoX3RoaXMsIHJvb3RFbCwgJ2Nob29zZScsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIERpc2FibGUgXCJkcmFnZ2FibGVcIlxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaWdub3JlLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbiAoY3JpdGVyaWEpIHtcbiAgICAgICAgICAgICAgICAgICAgX2ZpbmQoZHJhZ0VsLCBjcml0ZXJpYS50cmltKCksIF9kaXNhYmxlRHJhZ2dhYmxlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIF9vbihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9vbkRyb3ApO1xuICAgICAgICAgICAgICAgIF9vbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fb25Ecm9wKTtcbiAgICAgICAgICAgICAgICBfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoY2FuY2VsJywgX3RoaXMuX29uRHJvcCk7XG4gICAgICAgICAgICAgICAgX29uKG93bmVyRG9jdW1lbnQsICdwb2ludGVyY2FuY2VsJywgX3RoaXMuX29uRHJvcCk7XG4gICAgICAgICAgICAgICAgX29uKG93bmVyRG9jdW1lbnQsICdzZWxlY3RzdGFydCcsIF90aGlzKTtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIG1vdmVzIHRoZSBwb2ludGVyIG9yIGxldCBnbyB0aGUgY2xpY2sgb3IgdG91Y2hcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSBkZWxheSBoYXMgYmVlbiByZWFjaGVkOlxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIHRoZSBkZWxheWVkIGRyYWdcbiAgICAgICAgICAgICAgICAgICAgX29uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgICAgICAgICAgICAgICAgIF9vbihvd25lckRvY3VtZW50LCAndG91Y2hlbmQnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICAgICAgICAgICAgICAgICAgX29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgICAgICAgICAgICAgICAgICBfb24ob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgICAgICAgICAgICAgICAgICBfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgICAgICAgICAgICAgICAgICBfb24ob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RyYWdTdGFydFRpbWVyID0gc2V0VGltZW91dChkcmFnU3RhcnRGbiwgb3B0aW9ucy5kZWxheSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ1N0YXJ0Rm4oKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9kaXNhYmxlRGVsYXllZERyYWc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5lbC5vd25lckRvY3VtZW50O1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0VGltZXIpO1xuICAgICAgICAgICAgX29mZihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgICAgICAgICBfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgICAgICAgICBfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG4gICAgICAgICAgICBfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuICAgICAgICAgICAgX29mZihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICAgICAgICAgIF9vZmYob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJtb3ZlJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdHJpZ2dlckRyYWdTdGFydDogZnVuY3Rpb24gKC8qKiBFdmVudCAqL2V2dCwgLyoqIFRvdWNoICovdG91Y2gpIHtcbiAgICAgICAgICAgIHRvdWNoID0gdG91Y2ggfHwgKGV2dC5wb2ludGVyVHlwZSA9PSAndG91Y2gnID8gZXZ0IDogbnVsbCk7XG5cbiAgICAgICAgICAgIGlmICh0b3VjaCkge1xuICAgICAgICAgICAgICAgIC8vIFRvdWNoIGRldmljZSBzdXBwb3J0XG4gICAgICAgICAgICAgICAgdGFwRXZ0ID0ge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGRyYWdFbCxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50WDogdG91Y2guY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50WTogdG91Y2guY2xpZW50WVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRyYWdTdGFydCh0YXBFdnQsICd0b3VjaCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EcmFnU3RhcnQodGFwRXZ0LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9vbihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgX29uKHJvb3RFbCwgJ2RyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRpbWVvdXQgbmVjY2Vzc2FyeSBmb3IgSUU5XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfZHJhZ1N0YXJ0ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyb290RWwgJiYgZHJhZ0VsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgICAgICAgICAvLyBBcHBseSBlZmZlY3RcbiAgICAgICAgICAgICAgICBfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmdob3N0Q2xhc3MsIHRydWUpO1xuICAgICAgICAgICAgICAgIF90b2dnbGVDbGFzcyhkcmFnRWwsIG9wdGlvbnMuZHJhZ0NsYXNzLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBTb3J0YWJsZS5hY3RpdmUgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgLy8gRHJhZyBzdGFydCBldmVudFxuICAgICAgICAgICAgICAgIF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3N0YXJ0JywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbnVsbGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9lbXVsYXRlRHJhZ092ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0b3VjaEV2dCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0WCA9PT0gdG91Y2hFdnQuY2xpZW50WCAmJiB0aGlzLl9sYXN0WSA9PT0gdG91Y2hFdnQuY2xpZW50WSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdFggPSB0b3VjaEV2dC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RZID0gdG91Y2hFdnQuY2xpZW50WTtcblxuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NzcyhnaG9zdEVsLCAnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodG91Y2hFdnQuY2xpZW50WCwgdG91Y2hFdnQuY2xpZW50WSksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgaSA9IHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50W2V4cGFuZG9dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VjaERyYWdPdmVyTGlzdGVuZXJzW2ldKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFg6IHRvdWNoRXZ0LmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRZOiB0b3VjaEV2dC5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290RWw6IHBhcmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gcGFyZW50OyAvLyBzdG9yZSBsYXN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyoganNoaW50IGJvc3M6dHJ1ZSAqL1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAocGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NzcyhnaG9zdEVsLCAnZGlzcGxheScsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cblxuICAgICAgICBfb25Ub3VjaE1vdmU6IGZ1bmN0aW9uICgvKipUb3VjaEV2ZW50Ki9ldnQpIHtcbiAgICAgICAgICAgIGlmICh0YXBFdnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tUb2xlcmFuY2UgPSBvcHRpb25zLmZhbGxiYWNrVG9sZXJhbmNlLFxuICAgICAgICAgICAgICAgICAgICBmYWxsYmFja09mZnNldCA9IG9wdGlvbnMuZmFsbGJhY2tPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXSA6IGV2dCxcbiAgICAgICAgICAgICAgICAgICAgZHggPSAodG91Y2guY2xpZW50WCAtIHRhcEV2dC5jbGllbnRYKSArIGZhbGxiYWNrT2Zmc2V0LngsXG4gICAgICAgICAgICAgICAgICAgIGR5ID0gKHRvdWNoLmNsaWVudFkgLSB0YXBFdnQuY2xpZW50WSkgKyBmYWxsYmFja09mZnNldC55LFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUzZCA9IGV2dC50b3VjaGVzID8gJ3RyYW5zbGF0ZTNkKCcgKyBkeCArICdweCwnICsgZHkgKyAncHgsMCknIDogJ3RyYW5zbGF0ZSgnICsgZHggKyAncHgsJyArIGR5ICsgJ3B4KSc7XG5cbiAgICAgICAgICAgICAgICAvLyBvbmx5IHNldCB0aGUgc3RhdHVzIHRvIGRyYWdnaW5nLCB3aGVuIHdlIGFyZSBhY3R1YWxseSBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgIGlmICghU29ydGFibGUuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxsYmFja1RvbGVyYW5jZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbWluKGFicyh0b3VjaC5jbGllbnRYIC0gdGhpcy5fbGFzdFgpLCBhYnModG91Y2guY2xpZW50WSAtIHRoaXMuX2xhc3RZKSkgPCBmYWxsYmFja1RvbGVyYW5jZVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdTdGFydGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYXMgd2VsbCBhcyBjcmVhdGluZyB0aGUgZ2hvc3QgZWxlbWVudCBvbiB0aGUgZG9jdW1lbnQgYm9keVxuICAgICAgICAgICAgICAgIHRoaXMuX2FwcGVuZEdob3N0KCk7XG5cbiAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdG91Y2hFdnQgPSB0b3VjaDtcblxuICAgICAgICAgICAgICAgIF9jc3MoZ2hvc3RFbCwgJ3dlYmtpdFRyYW5zZm9ybScsIHRyYW5zbGF0ZTNkKTtcbiAgICAgICAgICAgICAgICBfY3NzKGdob3N0RWwsICdtb3pUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG4gICAgICAgICAgICAgICAgX2NzcyhnaG9zdEVsLCAnbXNUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG4gICAgICAgICAgICAgICAgX2NzcyhnaG9zdEVsLCAndHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuXG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2FwcGVuZEdob3N0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWdob3N0RWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IGRyYWdFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICAgICAgY3NzID0gX2NzcyhkcmFnRWwpLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBnaG9zdFJlY3Q7XG5cbiAgICAgICAgICAgICAgICBnaG9zdEVsID0gZHJhZ0VsLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgIF90b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBfdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5mYWxsYmFja0NsYXNzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBfdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5kcmFnQ2xhc3MsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgX2NzcyhnaG9zdEVsLCAndG9wJywgcmVjdC50b3AgLSBwYXJzZUludChjc3MubWFyZ2luVG9wLCAxMCkpO1xuICAgICAgICAgICAgICAgIF9jc3MoZ2hvc3RFbCwgJ2xlZnQnLCByZWN0LmxlZnQgLSBwYXJzZUludChjc3MubWFyZ2luTGVmdCwgMTApKTtcbiAgICAgICAgICAgICAgICBfY3NzKGdob3N0RWwsICd3aWR0aCcsIHJlY3Qud2lkdGgpO1xuICAgICAgICAgICAgICAgIF9jc3MoZ2hvc3RFbCwgJ2hlaWdodCcsIHJlY3QuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBfY3NzKGdob3N0RWwsICdvcGFjaXR5JywgJzAuOCcpO1xuICAgICAgICAgICAgICAgIF9jc3MoZ2hvc3RFbCwgJ3Bvc2l0aW9uJywgJ2ZpeGVkJyk7XG4gICAgICAgICAgICAgICAgX2NzcyhnaG9zdEVsLCAnekluZGV4JywgJzEwMDAwMCcpO1xuICAgICAgICAgICAgICAgIF9jc3MoZ2hvc3RFbCwgJ3BvaW50ZXJFdmVudHMnLCAnbm9uZScpO1xuXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5mYWxsYmFja09uQm9keSAmJiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdob3N0RWwpIHx8IHJvb3RFbC5hcHBlbmRDaGlsZChnaG9zdEVsKTtcblxuICAgICAgICAgICAgICAgIC8vIEZpeGluZyBkaW1lbnNpb25zLlxuICAgICAgICAgICAgICAgIGdob3N0UmVjdCA9IGdob3N0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgX2NzcyhnaG9zdEVsLCAnd2lkdGgnLCByZWN0LndpZHRoICogMiAtIGdob3N0UmVjdC53aWR0aCk7XG4gICAgICAgICAgICAgICAgX2NzcyhnaG9zdEVsLCAnaGVpZ2h0JywgcmVjdC5oZWlnaHQgKiAyIC0gZ2hvc3RSZWN0LmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uRHJhZ1N0YXJ0OiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCwgLyoqYm9vbGVhbiovdXNlRmFsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBkYXRhVHJhbnNmZXIgPSBldnQuZGF0YVRyYW5zZmVyLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgICAgIHRoaXMuX29mZlVwRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIGlmIChhY3RpdmVHcm91cC5jaGVja1B1bGwodGhpcywgdGhpcywgZHJhZ0VsLCBldnQpKSB7XG4gICAgICAgICAgICAgICAgY2xvbmVFbCA9IF9jbG9uZShkcmFnRWwpO1xuXG4gICAgICAgICAgICAgICAgY2xvbmVFbC5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjbG9uZUVsLnN0eWxlWyd3aWxsLWNoYW5nZSddID0gJyc7XG5cbiAgICAgICAgICAgICAgICBfY3NzKGNsb25lRWwsICdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICBfdG9nZ2xlQ2xhc3MoY2xvbmVFbCwgdGhpcy5vcHRpb25zLmNob3NlbkNsYXNzLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG4gICAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnY2xvbmUnLCBkcmFnRWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCBvcHRpb25zLmRyYWdDbGFzcywgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmICh1c2VGYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmICh1c2VGYWxsYmFjayA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBCaW5kIHRvdWNoIGV2ZW50c1xuICAgICAgICAgICAgICAgICAgICBfb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgICAgICAgICAgICAgICAgIF9vbihkb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ecm9wKTtcbiAgICAgICAgICAgICAgICAgICAgX29uKGRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCB0aGlzLl9vbkRyb3ApO1xuICAgICAgICAgICAgICAgICAgICBfb24oZG9jdW1lbnQsICdwb2ludGVybW92ZScsIHRoaXMuX29uVG91Y2hNb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgX29uKGRvY3VtZW50LCAncG9pbnRlcnVwJywgdGhpcy5fb25Ecm9wKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbGQgYnJ3b3NlclxuICAgICAgICAgICAgICAgICAgICBfb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgICAgICAgICAgICAgICAgIF9vbihkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9vbkRyb3ApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvb3BJZCA9IHNldEludGVydmFsKHRoaXMuX2VtdWxhdGVEcmFnT3ZlciwgNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zZXREYXRhICYmIG9wdGlvbnMuc2V0RGF0YS5jYWxsKHRoaXMsIGRhdGFUcmFuc2ZlciwgZHJhZ0VsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfb24oZG9jdW1lbnQsICdkcm9wJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLl9kcmFnU3RhcnRlZCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uRHJhZ092ZXI6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmVsLFxuICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICBkcmFnUmVjdCxcbiAgICAgICAgICAgICAgICB0YXJnZXRSZWN0LFxuICAgICAgICAgICAgICAgIHJldmVydCxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGdyb3VwID0gb3B0aW9ucy5ncm91cCxcbiAgICAgICAgICAgICAgICBhY3RpdmVTb3J0YWJsZSA9IFNvcnRhYmxlLmFjdGl2ZSxcbiAgICAgICAgICAgICAgICBpc093bmVyID0gKGFjdGl2ZUdyb3VwID09PSBncm91cCksXG4gICAgICAgICAgICAgICAgaXNNb3ZpbmdCZXR3ZWVuU29ydGFibGUgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBjYW5Tb3J0ID0gb3B0aW9ucy5zb3J0O1xuXG4gICAgICAgICAgICBpZiAoZXZ0LnByZXZlbnREZWZhdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAhb3B0aW9ucy5kcmFnb3ZlckJ1YmJsZSAmJiBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkcmFnRWwuYW5pbWF0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKGFjdGl2ZVNvcnRhYmxlICYmICFvcHRpb25zLmRpc2FibGVkICYmXG4gICAgICAgICAgICAgICAgKGlzT3duZXJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2FuU29ydCB8fCAocmV2ZXJ0ID0gIXJvb3RFbC5jb250YWlucyhkcmFnRWwpKSAvLyBSZXZlcnRpbmcgaXRlbSBpbnRvIHRoZSBvcmlnaW5hbCBsaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dFNvcnRhYmxlID09PSB0aGlzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFjdGl2ZVNvcnRhYmxlLmxhc3RQdWxsTW9kZSA9IGFjdGl2ZUdyb3VwLmNoZWNrUHVsbCh0aGlzLCBhY3RpdmVTb3J0YWJsZSwgZHJhZ0VsLCBldnQpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwLmNoZWNrUHV0KHRoaXMsIGFjdGl2ZVNvcnRhYmxlLCBkcmFnRWwsIGV2dClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAoZXZ0LnJvb3RFbCA9PT0gdm9pZCAwIHx8IGV2dC5yb290RWwgPT09IHRoaXMuZWwpIC8vIHRvdWNoIGZhbGxiYWNrXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBTbWFydCBhdXRvLXNjcm9sbGluZ1xuICAgICAgICAgICAgICAgIF9hdXRvU2Nyb2xsKGV2dCwgb3B0aW9ucywgdGhpcy5lbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoX3NpbGVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gX2Nsb3Nlc3QoZXZ0LnRhcmdldCwgb3B0aW9ucy5kcmFnZ2FibGUsIGVsKTtcbiAgICAgICAgICAgICAgICBkcmFnUmVjdCA9IGRyYWdFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwdXRTb3J0YWJsZSAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICBwdXRTb3J0YWJsZSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIGlzTW92aW5nQmV0d2VlblNvcnRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmV2ZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbG9uZUhpZGUoYWN0aXZlU29ydGFibGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbCA9IHJvb3RFbDsgLy8gYWN0dWFsaXphdGlvblxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9uZUVsIHx8IG5leHRFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVsLmluc2VydEJlZm9yZShkcmFnRWwsIGNsb25lRWwgfHwgbmV4dEVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghY2FuU29ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKGRyYWdFbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBpZiAoKGVsLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgfHwgKGVsLmNoaWxkcmVuWzBdID09PSBnaG9zdEVsKSB8fFxuICAgICAgICAgICAgICAgICAgICAoZWwgPT09IGV2dC50YXJnZXQpICYmIChfZ2hvc3RJc0xhc3QoZWwsIGV2dCkpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vYXNzaWduIHRhcmdldCBvbmx5IGlmIGNvbmRpdGlvbiBpcyB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGggIT09IDAgJiYgZWwuY2hpbGRyZW5bMF0gIT09IGdob3N0RWwgJiYgZWwgPT09IGV2dC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGVsLmxhc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmFuaW1hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgX2Nsb25lSGlkZShhY3RpdmVTb3J0YWJsZSwgaXNPd25lcik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCBldnQpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkcmFnRWwuY29udGFpbnMoZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbCA9IGVsOyAvLyBhY3R1YWxpemF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdGUoZHJhZ1JlY3QsIGRyYWdFbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgJiYgdGhpcy5fYW5pbWF0ZSh0YXJnZXRSZWN0LCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRhcmdldCAmJiAhdGFyZ2V0LmFuaW1hdGVkICYmIHRhcmdldCAhPT0gZHJhZ0VsICYmICh0YXJnZXQucGFyZW50Tm9kZVtleHBhbmRvXSAhPT0gdm9pZCAwKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEVsICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RFbCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDU1MgPSBfY3NzKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UGFyZW50Q1NTID0gX2Nzcyh0YXJnZXQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHRhcmdldFJlY3QucmlnaHQgLSB0YXJnZXRSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSB0YXJnZXRSZWN0LmJvdHRvbSAtIHRhcmdldFJlY3QudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRpbmcgPSBSX0ZMT0FULnRlc3QobGFzdENTUy5jc3NGbG9hdCArIGxhc3RDU1MuZGlzcGxheSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAobGFzdFBhcmVudENTUy5kaXNwbGF5ID09ICdmbGV4JyAmJiBsYXN0UGFyZW50Q1NTWydmbGV4LWRpcmVjdGlvbiddLmluZGV4T2YoJ3JvdycpID09PSAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzV2lkZSA9ICh0YXJnZXQub2Zmc2V0V2lkdGggPiBkcmFnRWwub2Zmc2V0V2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNMb25nID0gKHRhcmdldC5vZmZzZXRIZWlnaHQgPiBkcmFnRWwub2Zmc2V0SGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZ3YXkgPSAoZmxvYXRpbmcgPyAoZXZ0LmNsaWVudFggLSB0YXJnZXRSZWN0LmxlZnQpIC8gd2lkdGggOiAoZXZ0LmNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcCkgLyBoZWlnaHQpID4gMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFNpYmxpbmcgPSB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmbG9hdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsVG9wID0gZHJhZ0VsLm9mZnNldFRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Z1RvcCA9IHRhcmdldC5vZmZzZXRUb3A7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbFRvcCA9PT0gdGdUb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlciA9ICh0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyA9PT0gZHJhZ0VsKSAmJiAhaXNXaWRlIHx8IGhhbGZ3YXkgJiYgaXNXaWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPT09IGRyYWdFbCB8fCBkcmFnRWwucHJldmlvdXNFbGVtZW50U2libGluZyA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSAoZXZ0LmNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcCkgLyBoZWlnaHQgPiAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyID0gdGdUb3AgPiBlbFRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNNb3ZpbmdCZXR3ZWVuU29ydGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyID0gKG5leHRTaWJsaW5nICE9PSBkcmFnRWwpICYmICFpc0xvbmcgfHwgaGFsZndheSAmJiBpc0xvbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgbW92ZVZlY3RvciA9IF9vbk1vdmUocm9vdEVsLCBlbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0LCB0YXJnZXRSZWN0LCBldnQsIGFmdGVyKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobW92ZVZlY3RvciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlVmVjdG9yID09PSAxIHx8IG1vdmVWZWN0b3IgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSAobW92ZVZlY3RvciA9PT0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaWxlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChfdW5zaWxlbnQsIDMwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb25lSGlkZShhY3RpdmVTb3J0YWJsZSwgaXNPd25lcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZHJhZ0VsLmNvbnRhaW5zKGVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZnRlciAmJiAhbmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZHJhZ0VsLCBhZnRlciA/IG5leHRTaWJsaW5nIDogdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEVsID0gZHJhZ0VsLnBhcmVudE5vZGU7IC8vIGFjdHVhbGl6YXRpb25cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW5pbWF0ZShkcmFnUmVjdCwgZHJhZ0VsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdGUodGFyZ2V0UmVjdCwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfYW5pbWF0ZTogZnVuY3Rpb24gKHByZXZSZWN0LCB0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBtcyA9IHRoaXMub3B0aW9ucy5hbmltYXRpb247XG5cbiAgICAgICAgICAgIGlmIChtcykge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcmV2UmVjdC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2UmVjdCA9IHByZXZSZWN0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICdub25lJyk7XG4gICAgICAgICAgICAgICAgX2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJ1xuICAgICAgICAgICAgICAgICAgICArIChwcmV2UmVjdC5sZWZ0IC0gY3VycmVudFJlY3QubGVmdCkgKyAncHgsJ1xuICAgICAgICAgICAgICAgICAgICArIChwcmV2UmVjdC50b3AgLSBjdXJyZW50UmVjdC50b3ApICsgJ3B4LDApJ1xuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB0YXJnZXQub2Zmc2V0V2lkdGg7IC8vIHJlcGFpbnRcblxuICAgICAgICAgICAgICAgIF9jc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICdhbGwgJyArIG1zICsgJ21zJyk7XG4gICAgICAgICAgICAgICAgX2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoMCwwLDApJyk7XG5cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGFyZ2V0LmFuaW1hdGVkKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQuYW5pbWF0ZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX2Nzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJycpO1xuICAgICAgICAgICAgICAgICAgICBfY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmFuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9vZmZVcEV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSB0aGlzLmVsLm93bmVyRG9jdW1lbnQ7XG5cbiAgICAgICAgICAgIF9vZmYoZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgICAgICAgICBfb2ZmKGRvY3VtZW50LCAncG9pbnRlcm1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG4gICAgICAgICAgICBfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Ecm9wKTtcbiAgICAgICAgICAgIF9vZmYob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ecm9wKTtcbiAgICAgICAgICAgIF9vZmYob3duZXJEb2N1bWVudCwgJ3BvaW50ZXJ1cCcsIHRoaXMuX29uRHJvcCk7XG4gICAgICAgICAgICBfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX29uRHJvcCk7XG4gICAgICAgICAgICBfb2ZmKG93bmVyRG9jdW1lbnQsICdwb2ludGVyY2FuY2VsJywgdGhpcy5fb25Ecm9wKTtcbiAgICAgICAgICAgIF9vZmYob3duZXJEb2N1bWVudCwgJ3NlbGVjdHN0YXJ0JywgdGhpcyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uRHJvcDogZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQpIHtcbiAgICAgICAgICAgIHZhciBlbCA9IHRoaXMuZWwsXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9sb29wSWQpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvU2Nyb2xsLnBpZCk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0VGltZXIpO1xuXG4gICAgICAgICAgICAvLyBVbmJpbmQgZXZlbnRzXG4gICAgICAgICAgICBfb2ZmKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgICAgICAgICBfb2ZmKGRvY3VtZW50LCAnZHJvcCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIF9vZmYoZWwsICdkcmFnc3RhcnQnLCB0aGlzLl9vbkRyYWdTdGFydCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX29mZlVwRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIGlmIChldnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICFvcHRpb25zLmRyb3BCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdob3N0RWwgJiYgZ2hvc3RFbC5wYXJlbnROb2RlICYmIGdob3N0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChnaG9zdEVsKTtcblxuICAgICAgICAgICAgICAgIGlmIChyb290RWwgPT09IHBhcmVudEVsIHx8IFNvcnRhYmxlLmFjdGl2ZS5sYXN0UHVsbE1vZGUgIT09ICdjbG9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGNsb25lXG4gICAgICAgICAgICAgICAgICAgIGNsb25lRWwgJiYgY2xvbmVFbC5wYXJlbnROb2RlICYmIGNsb25lRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbG9uZUVsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZHJhZ0VsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX29mZihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfZGlzYWJsZURyYWdnYWJsZShkcmFnRWwpO1xuICAgICAgICAgICAgICAgICAgICBkcmFnRWwuc3R5bGVbJ3dpbGwtY2hhbmdlJ10gPSAnJztcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgY2xhc3Mnc1xuICAgICAgICAgICAgICAgICAgICBfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCB0aGlzLm9wdGlvbnMuZ2hvc3RDbGFzcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCB0aGlzLm9wdGlvbnMuY2hvc2VuQ2xhc3MsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBEcmFnIHN0b3AgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAndW5jaG9vc2UnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290RWwgIT09IHBhcmVudEVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IF9pbmRleChkcmFnRWwsIG9wdGlvbnMuZHJhZ2dhYmxlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlzcGF0Y2hFdmVudChudWxsLCBwYXJlbnRFbCwgJ2FkZCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAncmVtb3ZlJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkcmFnIGZyb20gb25lIGxpc3QgYW5kIGRyb3AgaW50byBhbm90aGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQobnVsbCwgcGFyZW50RWwsICdzb3J0JywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnc29ydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdFbC5uZXh0U2libGluZyAhPT0gbmV4dEVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBfaW5kZXgoZHJhZ0VsLCBvcHRpb25zLmRyYWdnYWJsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkcmFnICYgZHJvcCB3aXRoaW4gdGhlIHNhbWUgbGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICd1cGRhdGUnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnc29ydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChTb3J0YWJsZS5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGpzaGludCBlcW51bGw6dHJ1ZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IG51bGwgfHwgbmV3SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBvbGRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnZW5kJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgc29ydGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbnVsbGluZygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9udWxsaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByb290RWwgPVxuICAgICAgICAgICAgICAgIGRyYWdFbCA9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEVsID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0RWwgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRFbCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lRWwgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdERvd25FbCA9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxFbCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFBhcmVudEVsID1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwRXZ0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VjaEV2dCA9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVsID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENTUyA9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dFNvcnRhYmxlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVHcm91cCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNvcnRhYmxlLmFjdGl2ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIHNhdmVkSW5wdXRDaGVja2VkLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgZWwuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNhdmVkSW5wdXRDaGVja2VkLmxlbmd0aCA9IDA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFuZGxlRXZlbnQ6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGV2dC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZHJvcCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZHJhZ2VuZCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRHJvcChldnQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ2RyYWdvdmVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdkcmFnZW50ZXInOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhZ0VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRyYWdPdmVyKGV2dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsRHJhZ092ZXIoZXZ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3NlbGVjdHN0YXJ0JzpcbiAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlcmlhbGl6ZXMgdGhlIGl0ZW0gaW50byBhbiBhcnJheSBvZiBzdHJpbmcuXG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRvQXJyYXk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvcmRlciA9IFtdLFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gdGhpcy5lbC5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBpID0gMCxcbiAgICAgICAgICAgICAgICBuID0gY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgICAgIGZvciAoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZWwgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoX2Nsb3Nlc3QoZWwsIG9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsKSkge1xuICAgICAgICAgICAgICAgICAgICBvcmRlci5wdXNoKGVsLmdldEF0dHJpYnV0ZShvcHRpb25zLmRhdGFJZEF0dHIpIHx8IF9nZW5lcmF0ZUlkKGVsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb3JkZXI7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogU29ydHMgdGhlIGVsZW1lbnRzIGFjY29yZGluZyB0byB0aGUgYXJyYXkuXG4gICAgICAgICAqIEBwYXJhbSAge1N0cmluZ1tdfSAgb3JkZXIgIG9yZGVyIG9mIHRoZSBpdGVtc1xuICAgICAgICAgKi9cbiAgICAgICAgc29ydDogZnVuY3Rpb24gKG9yZGVyKSB7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSB7fSwgcm9vdEVsID0gdGhpcy5lbDtcblxuICAgICAgICAgICAgdGhpcy50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbiAoaWQsIGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSByb290RWwuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICBpZiAoX2Nsb3Nlc3QoZWwsIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHJvb3RFbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXNbaWRdID0gZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgIG9yZGVyLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2lkXSkge1xuICAgICAgICAgICAgICAgICAgICByb290RWwucmVtb3ZlQ2hpbGQoaXRlbXNbaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgcm9vdEVsLmFwcGVuZENoaWxkKGl0ZW1zW2lkXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2F2ZSB0aGUgY3VycmVudCBzb3J0aW5nXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLm9wdGlvbnMuc3RvcmU7XG4gICAgICAgICAgICBzdG9yZSAmJiBzdG9yZS5zZXQodGhpcyk7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LCBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIHRoZSBzZWxlY3RvciBieSB0ZXN0aW5nIHRoZSBlbGVtZW50IGl0c2VsZiBhbmQgdHJhdmVyc2luZyB1cCB0aHJvdWdoIGl0cyBhbmNlc3RvcnMgaW4gdGhlIERPTSB0cmVlLlxuICAgICAgICAgKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9ICBlbFxuICAgICAgICAgKiBAcGFyYW0gICB7U3RyaW5nfSAgICAgICBbc2VsZWN0b3JdICBkZWZhdWx0OiBgb3B0aW9ucy5kcmFnZ2FibGVgXG4gICAgICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudHxudWxsfVxuICAgICAgICAgKi9cbiAgICAgICAgY2xvc2VzdDogZnVuY3Rpb24gKGVsLCBzZWxlY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIF9jbG9zZXN0KGVsLCBzZWxlY3RvciB8fCB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlLCB0aGlzLmVsKTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQvZ2V0IG9wdGlvblxuICAgICAgICAgKiBAcGFyYW0gICB7c3RyaW5nfSBuYW1lXG4gICAgICAgICAqIEBwYXJhbSAgIHsqfSAgICAgIFt2YWx1ZV1cbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuICAgICAgICBvcHRpb246IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnNbbmFtZV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnNbbmFtZV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wcmVwYXJlR3JvdXAob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3Ryb3lcbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cbiAgICAgICAgICAgIGVsW2V4cGFuZG9dID0gbnVsbDtcblxuICAgICAgICAgICAgX29mZihlbCwgJ21vdXNlZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuICAgICAgICAgICAgX29mZihlbCwgJ3RvdWNoc3RhcnQnLCB0aGlzLl9vblRhcFN0YXJ0KTtcbiAgICAgICAgICAgIF9vZmYoZWwsICdwb2ludGVyZG93bicsIHRoaXMuX29uVGFwU3RhcnQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcbiAgICAgICAgICAgICAgICBfb2ZmKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBfb2ZmKGVsLCAnZHJhZ2VudGVyJywgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBkcmFnZ2FibGUgYXR0cmlidXRlc1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5xdWVyeVNlbGVjdG9yQWxsKCdbZHJhZ2dhYmxlXScpLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RyYWdnYWJsZScpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMuc3BsaWNlKHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMuaW5kZXhPZih0aGlzLl9vbkRyYWdPdmVyKSwgMSk7XG5cbiAgICAgICAgICAgIHRoaXMuX29uRHJvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLmVsID0gZWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgZnVuY3Rpb24gX2Nsb25lSGlkZShzb3J0YWJsZSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKHNvcnRhYmxlLmxhc3RQdWxsTW9kZSAhPT0gJ2Nsb25lJykge1xuICAgICAgICAgICAgc3RhdGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsb25lRWwgJiYgKGNsb25lRWwuc3RhdGUgIT09IHN0YXRlKSkge1xuICAgICAgICAgICAgX2NzcyhjbG9uZUVsLCAnZGlzcGxheScsIHN0YXRlID8gJ25vbmUnIDogJycpO1xuXG4gICAgICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb25lRWwuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvcnRhYmxlLm9wdGlvbnMuZ3JvdXAucmV2ZXJ0Q2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgbmV4dEVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlLl9hbmltYXRlKGRyYWdFbCwgY2xvbmVFbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsb25lRWwuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gX2Nsb3Nlc3QoLyoqSFRNTEVsZW1lbnQqL2VsLCAvKipTdHJpbmcqL3NlbGVjdG9yLCAvKipIVE1MRWxlbWVudCovY3R4KSB7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgY3R4ID0gY3R4IHx8IGRvY3VtZW50O1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKChzZWxlY3RvciA9PT0gJz4qJyAmJiBlbC5wYXJlbnROb2RlID09PSBjdHgpIHx8IF9tYXRjaGVzKGVsLCBzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBqc2hpbnQgYm9zczp0cnVlICovXG4gICAgICAgICAgICB9IHdoaWxlIChlbCA9IF9nZXRQYXJlbnRPckhvc3QoZWwpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gX2dldFBhcmVudE9ySG9zdChlbCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gZWwuaG9zdDtcblxuICAgICAgICByZXR1cm4gKHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUpID8gcGFyZW50IDogZWwucGFyZW50Tm9kZTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIF9nbG9iYWxEcmFnT3ZlcigvKipFdmVudCovZXZ0KSB7XG4gICAgICAgIGlmIChldnQuZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgICAgICBldnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XG4gICAgICAgIH1cbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBfb24oZWwsIGV2ZW50LCBmbikge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgY2FwdHVyZU1vZGUpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gX29mZihlbCwgZXZlbnQsIGZuKSB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBjYXB0dXJlTW9kZSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBfdG9nZ2xlQ2xhc3MoZWwsIG5hbWUsIHN0YXRlKSB7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdFtzdGF0ZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9ICgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoUl9TUEFDRSwgJyAnKS5yZXBsYWNlKCcgJyArIG5hbWUgKyAnICcsICcgJyk7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gKGNsYXNzTmFtZSArIChzdGF0ZSA/ICcgJyArIG5hbWUgOiAnJykpLnJlcGxhY2UoUl9TUEFDRSwgJyAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gX2NzcyhlbCwgcHJvcCwgdmFsKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IGVsICYmIGVsLnN0eWxlO1xuXG4gICAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlbC5jdXJyZW50U3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gZWwuY3VycmVudFN0eWxlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wID09PSB2b2lkIDAgPyB2YWwgOiB2YWxbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIShwcm9wIGluIHN0eWxlKSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wID0gJy13ZWJraXQtJyArIHByb3A7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3R5bGVbcHJvcF0gPSB2YWwgKyAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyAnJyA6ICdweCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBfZmluZChjdHgsIHRhZ05hbWUsIGl0ZXJhdG9yKSB7XG4gICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICAgIHZhciBsaXN0ID0gY3R4LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpLCBpID0gMCwgbiA9IGxpc3QubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvcihsaXN0W2ldLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gX2Rpc3BhdGNoRXZlbnQoc29ydGFibGUsIHJvb3RFbCwgbmFtZSwgdGFyZ2V0RWwsIGZyb21FbCwgc3RhcnRJbmRleCwgbmV3SW5kZXgpIHtcbiAgICAgICAgc29ydGFibGUgPSAoc29ydGFibGUgfHwgcm9vdEVsW2V4cGFuZG9dKTtcblxuICAgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50JyksXG4gICAgICAgICAgICBvcHRpb25zID0gc29ydGFibGUub3B0aW9ucyxcbiAgICAgICAgICAgIG9uTmFtZSA9ICdvbicgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHIoMSk7XG5cbiAgICAgICAgZXZ0LmluaXRFdmVudChuYW1lLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICBldnQudG8gPSByb290RWw7XG4gICAgICAgIGV2dC5mcm9tID0gZnJvbUVsIHx8IHJvb3RFbDtcbiAgICAgICAgZXZ0Lml0ZW0gPSB0YXJnZXRFbCB8fCByb290RWw7XG4gICAgICAgIGV2dC5jbG9uZSA9IGNsb25lRWw7XG5cbiAgICAgICAgZXZ0Lm9sZEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICAgICAgZXZ0Lm5ld0luZGV4ID0gbmV3SW5kZXg7XG5cbiAgICAgICAgcm9vdEVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblxuICAgICAgICBpZiAob3B0aW9uc1tvbk5hbWVdKSB7XG4gICAgICAgICAgICBvcHRpb25zW29uTmFtZV0uY2FsbChzb3J0YWJsZSwgZXZ0KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gX29uTW92ZShmcm9tRWwsIHRvRWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldEVsLCB0YXJnZXRSZWN0LCBvcmlnaW5hbEV2dCwgd2lsbEluc2VydEFmdGVyKSB7XG4gICAgICAgIHZhciBldnQsXG4gICAgICAgICAgICBzb3J0YWJsZSA9IGZyb21FbFtleHBhbmRvXSxcbiAgICAgICAgICAgIG9uTW92ZUZuID0gc29ydGFibGUub3B0aW9ucy5vbk1vdmUsXG4gICAgICAgICAgICByZXRWYWw7XG5cbiAgICAgICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgIGV2dC5pbml0RXZlbnQoJ21vdmUnLCB0cnVlLCB0cnVlKTtcblxuICAgICAgICBldnQudG8gPSB0b0VsO1xuICAgICAgICBldnQuZnJvbSA9IGZyb21FbDtcbiAgICAgICAgZXZ0LmRyYWdnZWQgPSBkcmFnRWw7XG4gICAgICAgIGV2dC5kcmFnZ2VkUmVjdCA9IGRyYWdSZWN0O1xuICAgICAgICBldnQucmVsYXRlZCA9IHRhcmdldEVsIHx8IHRvRWw7XG4gICAgICAgIGV2dC5yZWxhdGVkUmVjdCA9IHRhcmdldFJlY3QgfHwgdG9FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgZXZ0LndpbGxJbnNlcnRBZnRlciA9IHdpbGxJbnNlcnRBZnRlcjtcblxuICAgICAgICBmcm9tRWwuZGlzcGF0Y2hFdmVudChldnQpO1xuXG4gICAgICAgIGlmIChvbk1vdmVGbikge1xuICAgICAgICAgICAgcmV0VmFsID0gb25Nb3ZlRm4uY2FsbChzb3J0YWJsZSwgZXZ0LCBvcmlnaW5hbEV2dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0VmFsO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gX2Rpc2FibGVEcmFnZ2FibGUoZWwpIHtcbiAgICAgICAgZWwuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBfdW5zaWxlbnQoKSB7XG4gICAgICAgIF9zaWxlbnQgPSBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8ZmFsc2V9ICovXG4gICAgZnVuY3Rpb24gX2dob3N0SXNMYXN0KGVsLCBldnQpIHtcbiAgICAgICAgdmFyIGxhc3RFbCA9IGVsLmxhc3RFbGVtZW50Q2hpbGQsXG4gICAgICAgICAgICByZWN0ID0gbGFzdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIC8vIDUg4oCUIG1pbiBkZWx0YVxuICAgICAgICAvLyBhYnMg4oCUINC90LXQu9GM0LfRjyDQtNC+0LHQsNCy0LvRj9GC0YwsINCwINGC0L4g0LPQu9GO0LrQuCDQv9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4INGB0LLQtdGA0YXRg1xuICAgICAgICByZXR1cm4gKGV2dC5jbGllbnRZIC0gKHJlY3QudG9wICsgcmVjdC5oZWlnaHQpID4gNSkgfHxcbiAgICAgICAgICAgIChldnQuY2xpZW50WCAtIChyZWN0LmxlZnQgKyByZWN0LndpZHRoKSA+IDUpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgaWRcbiAgICAgKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9IGVsXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9nZW5lcmF0ZUlkKGVsKSB7XG4gICAgICAgIHZhciBzdHIgPSBlbC50YWdOYW1lICsgZWwuY2xhc3NOYW1lICsgZWwuc3JjICsgZWwuaHJlZiArIGVsLnRleHRDb250ZW50LFxuICAgICAgICAgICAgaSA9IHN0ci5sZW5ndGgsXG4gICAgICAgICAgICBzdW0gPSAwO1xuXG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHN1bSArPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdW0udG9TdHJpbmcoMzYpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIGFuIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnQgZm9yIGEgc2VsZWN0ZWQgc2V0IG9mXG4gICAgICogZWxlbWVudHNcbiAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gZWxcbiAgICAgKiBAcGFyYW0gIHtzZWxlY3Rvcn0gc2VsZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgZnVuY3Rpb24gX2luZGV4KGVsLCBzZWxlY3Rvcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuXG4gICAgICAgIGlmICghZWwgfHwgIWVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChlbCAmJiAoZWwgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSkge1xuICAgICAgICAgICAgaWYgKChlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnVEVNUExBVEUnKSAmJiAoc2VsZWN0b3IgPT09ICc+KicgfHwgX21hdGNoZXMoZWwsIHNlbGVjdG9yKSkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9tYXRjaGVzKC8qKkhUTUxFbGVtZW50Ki9lbCwgLyoqU3RyaW5nKi9zZWxlY3Rvcikge1xuICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3Iuc3BsaXQoJy4nKTtcblxuICAgICAgICAgICAgdmFyIHRhZyA9IHNlbGVjdG9yLnNoaWZ0KCkudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgICAgICByZSA9IG5ldyBSZWdFeHAoJ1xcXFxzKCcgKyBzZWxlY3Rvci5qb2luKCd8JykgKyAnKSg/PVxcXFxzKScsICdnJyk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHRhZyA9PT0gJycgfHwgZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PSB0YWcpICYmXG4gICAgICAgICAgICAgICAgKCFzZWxlY3Rvci5sZW5ndGggfHwgKCgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLm1hdGNoKHJlKSB8fCBbXSkubGVuZ3RoID09IHNlbGVjdG9yLmxlbmd0aClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3Rocm90dGxlKGNhbGxiYWNrLCBtcykge1xuICAgICAgICB2YXIgYXJncywgX3RoaXM7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChhcmdzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoX3RoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoX3RoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB9LCBtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2V4dGVuZChkc3QsIHNyYykge1xuICAgICAgICBpZiAoZHN0ICYmIHNyYykge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgICAgICAgICAgIGlmIChzcmMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2Nsb25lKGVsKSB7XG4gICAgICAgIHJldHVybiAkXG4gICAgICAgICAgICA/ICQoZWwpLmNsb25lKHRydWUpWzBdXG4gICAgICAgICAgICA6IChQb2x5bWVyICYmIFBvbHltZXIuZG9tXG4gICAgICAgICAgICAgICAgPyBQb2x5bWVyLmRvbShlbCkuY2xvbmVOb2RlKHRydWUpXG4gICAgICAgICAgICAgICAgOiBlbC5jbG9uZU5vZGUodHJ1ZSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfc2F2ZUlucHV0Q2hlY2tlZFN0YXRlKHJvb3QpIHtcbiAgICAgICAgdmFyIGlucHV0cyA9IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7XG4gICAgICAgIHZhciBpZHggPSBpbnB1dHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgICAgICAgdmFyIGVsID0gaW5wdXRzW2lkeF07XG4gICAgICAgICAgICBlbC5jaGVja2VkICYmIHNhdmVkSW5wdXRDaGVja2VkLnB1c2goZWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRml4ZWQgIzk3MzpcbiAgICBfb24oZG9jdW1lbnQsICd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIGlmIChTb3J0YWJsZS5hY3RpdmUpIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0cnkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjYXB0dXJlTW9kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgIH1cblxuICAgIC8vIEV4cG9ydCB1dGlsc1xuICAgIFNvcnRhYmxlLnV0aWxzID0ge1xuICAgICAgICBvbjogX29uLFxuICAgICAgICBvZmY6IF9vZmYsXG4gICAgICAgIGNzczogX2NzcyxcbiAgICAgICAgZmluZDogX2ZpbmQsXG4gICAgICAgIGlzOiBmdW5jdGlvbiAoZWwsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gISFfY2xvc2VzdChlbCwgc2VsZWN0b3IsIGVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW5kOiBfZXh0ZW5kLFxuICAgICAgICB0aHJvdHRsZTogX3Rocm90dGxlLFxuICAgICAgICBjbG9zZXN0OiBfY2xvc2VzdCxcbiAgICAgICAgdG9nZ2xlQ2xhc3M6IF90b2dnbGVDbGFzcyxcbiAgICAgICAgY2xvbmU6IF9jbG9uZSxcbiAgICAgICAgaW5kZXg6IF9pbmRleFxuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBzb3J0YWJsZSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9ICBlbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIFtvcHRpb25zXVxuICAgICAqL1xuICAgIFNvcnRhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChlbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFNvcnRhYmxlKGVsLCBvcHRpb25zKTtcbiAgICB9O1xuXG5cbiAgICAvLyBFeHBvcnRcbiAgICBTb3J0YWJsZS52ZXJzaW9uID0gJzEuNi4wJztcblxuXG4gICAgZXhwb3J0cygnc29ydGFibGUnLCBTb3J0YWJsZSk7XG59KTtcblxuIl19
